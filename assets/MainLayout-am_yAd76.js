import{k as D,c as i,h as T,l as J,u as Fe,m as Ae,w as h,g as E,a as fe,n as M,p as Y,r as x,q as ve,t as Ie,v as Ee,x as Ne,y as Ue,z as je,A as Ke,B as Ge,C as Xe,D as Je,E as ye,o as xe,G as Ye,H as we,I as qe,J as Ze,K as et,L as tt,M as at,N as lt,O as nt,P as ot,Q as ie,R as it,S as j,b as rt,U as ut,d as Le,V as se,W as G,X as $,Y as st,f as w,Z as ct,_ as X,$ as pe,a0 as dt,a1 as ft,a2 as vt,F as mt,a3 as ht,a4 as bt}from"./index-DPybeHdw.js";import{u as gt,a as yt,b as wt,T as re,Q as pt}from"./TouchPan-D2u15osf.js";import{Q as ce,b as K}from"./format-BGexD0wT.js";import{Q as Tt,a as Te,b as de,c as kt}from"./QItem-DKDlaR19.js";const St=D({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:d}){const l=i(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>T("div",{class:l.value},J(d.default))}}),ue=D({name:"QRouteTab",props:{...Fe,...gt},emits:yt,setup(e,{slots:d,emit:l}){const r=Ae({useDisableForRouterLinkProps:!1}),{renderTab:o,$tabs:u}=wt(e,d,l,{exact:i(()=>e.exact),...r});return h(()=>`${e.name} | ${e.exact} | ${(r.resolvedLink.value||{}).href}`,u.verifyRouteModel),()=>o(r.linkTag.value,r.linkAttrs.value)}}),xt=D({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:d}){const l=i(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>T("div",{class:l.value,role:"toolbar"},J(d.default))}}),qt=D({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:d,emit:l}){const{proxy:{$q:r}}=E(),o=fe(Y,M);if(o===M)return console.error("QHeader needs to be child of QLayout"),M;const u=x(parseInt(e.heightHint,10)),b=x(!0),y=i(()=>e.reveal===!0||o.view.value.indexOf("H")!==-1||r.platform.is.ios&&o.isContainer.value===!0),C=i(()=>{if(e.modelValue!==!0)return 0;if(y.value===!0)return b.value===!0?u.value:0;const n=u.value-o.scroll.value.position;return n>0?n:0}),g=i(()=>e.modelValue!==!0||y.value===!0&&b.value!==!0),a=i(()=>e.modelValue===!0&&g.value===!0&&e.reveal===!0),z=i(()=>"q-header q-layout__section--marginal "+(y.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(g.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),k=i(()=>{const n=o.rows.value.top,q={};return n[0]==="l"&&o.left.space===!0&&(q[r.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),n[2]==="r"&&o.right.space===!0&&(q[r.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),q});function m(n,q){o.update("header",n,q)}function f(n,q){n.value!==q&&(n.value=q)}function P({height:n}){f(u,n),m("size",n)}function S(n){a.value===!0&&f(b,!0),l("focusin",n)}h(()=>e.modelValue,n=>{m("space",n),f(b,!0),o.animate()}),h(C,n=>{m("offset",n)}),h(()=>e.reveal,n=>{n===!1&&f(b,e.modelValue)}),h(b,n=>{o.animate(),l("reveal",n)}),h(o.scroll,n=>{e.reveal===!0&&f(b,n.direction==="up"||n.position<=e.revealOffset||n.position-n.inflectionPoint<100)});const v={};return o.instances.header=v,e.modelValue===!0&&m("size",u.value),m("space",e.modelValue),m("offset",C.value),ve(()=>{o.instances.header===v&&(o.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const n=Ie(d.default,[]);return e.elevated===!0&&n.push(T("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(T(ce,{debounce:0,onResize:P})),T("header",{class:z.value,style:k.value,onFocusin:S},n)}}}),ke=150,Lt=D({name:"QDrawer",inheritAttrs:!1,props:{...Ue,...Ne,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ee,"onLayout","miniState"],setup(e,{slots:d,emit:l,attrs:r}){const o=E(),{proxy:{$q:u}}=o,b=je(e,u),{preventBodyScroll:y}=Je(),{registerTimeout:C,removeTimeout:g}=Ke(),a=fe(Y,M);if(a===M)return console.error("QDrawer needs to be child of QLayout"),M;let z,k=null,m;const f=x(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),P=i(()=>e.mini===!0&&f.value!==!0),S=i(()=>P.value===!0?e.miniWidth:e.width),v=x(e.showIfAbove===!0&&f.value===!1?!0:e.modelValue===!0),n=i(()=>e.persistent!==!0&&(f.value===!0||$e.value===!0));function q(t,s){if(B(),t!==!1&&a.animate(),Q(0),f.value===!0){const _=a.instances[N.value];_?.belowBreakpoint===!0&&_.hide(!1),V(1),a.isContainer.value!==!0&&y(!0)}else V(0),t!==!1&&le(!1);C(()=>{t!==!1&&le(!0),s!==!0&&l("show",t)},ke)}function c(t,s){A(),t!==!1&&a.animate(),V(0),Q(W.value*S.value),ne(),s!==!0?C(()=>{l("hide",t)},ke):g()}const{show:p,hide:L}=Ge({showing:v,hideOnRouteChange:n,handleShow:q,handleHide:c}),{addToHistory:B,removeFromHistory:A}=Xe(v,L,n),H={belowBreakpoint:f,hide:L},O=i(()=>e.side==="right"),W=i(()=>(u.lang.rtl===!0?-1:1)*(O.value===!0?1:-1)),me=x(0),F=x(!1),Z=x(!1),he=x(S.value*W.value),N=i(()=>O.value===!0?"left":"right"),ee=i(()=>v.value===!0&&f.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:S.value:0),te=i(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(O.value?"R":"L")!==-1||u.platform.is.ios===!0&&a.isContainer.value===!0),I=i(()=>e.overlay===!1&&v.value===!0&&f.value===!1),$e=i(()=>e.overlay===!0&&v.value===!0&&f.value===!1),Ce=i(()=>"fullscreen q-drawer__backdrop"+(v.value===!1&&F.value===!1?" hidden":"")),_e=i(()=>({backgroundColor:`rgba(0,0,0,${me.value*.4})`})),be=i(()=>O.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),ze=i(()=>O.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Be=i(()=>{const t={};return a.header.space===!0&&be.value===!1&&(te.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&ze.value===!1&&(te.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),Qe=i(()=>{const t={width:`${S.value}px`,transform:`translateX(${he.value}px)`};return f.value===!0?t:Object.assign(t,Be.value)}),Pe=i(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Oe=i(()=>`q-drawer q-drawer--${e.side}`+(Z.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(b.value===!0?" q-drawer--dark q-dark":"")+(F.value===!0?" no-transition":v.value===!0?"":" q-layout--prevent-focus")+(f.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${P.value===!0?"mini":"standard"}`+(te.value===!0||I.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(be.value===!0?" q-drawer--top-padding":""))),Me=i(()=>{const t=u.lang.rtl===!0?e.side:N.value;return[[re,He,void 0,{[t]:!0,mouse:!0}]]}),Ve=i(()=>{const t=u.lang.rtl===!0?N.value:e.side;return[[re,ge,void 0,{[t]:!0,mouse:!0}]]}),Re=i(()=>{const t=u.lang.rtl===!0?N.value:e.side;return[[re,ge,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function ae(){We(f,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}h(f,t=>{t===!0?(z=v.value,v.value===!0&&L(!1)):e.overlay===!1&&e.behavior!=="mobile"&&z!==!1&&(v.value===!0?(Q(0),V(0),ne()):p(!1))}),h(()=>e.side,(t,s)=>{a.instances[s]===H&&(a.instances[s]=void 0,a[s].space=!1,a[s].offset=0),a.instances[t]=H,a[t].size=S.value,a[t].space=I.value,a[t].offset=ee.value}),h(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&ae()}),h(()=>e.behavior+e.breakpoint,ae),h(a.isContainer,t=>{v.value===!0&&y(t!==!0),t===!0&&ae()}),h(a.scrollbarWidth,()=>{Q(v.value===!0?0:void 0)}),h(ee,t=>{R("offset",t)}),h(I,t=>{l("onLayout",t),R("space",t)}),h(O,()=>{Q()}),h(S,t=>{Q(),oe(e.miniToOverlay,t)}),h(()=>e.miniToOverlay,t=>{oe(t,S.value)}),h(()=>u.lang.rtl,()=>{Q()}),h(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(De(),a.animate())}),h(P,t=>{l("miniState",t)});function Q(t){t===void 0?ye(()=>{t=v.value===!0?0:S.value,Q(W.value*t)}):(a.isContainer.value===!0&&O.value===!0&&(f.value===!0||Math.abs(t)===S.value)&&(t+=W.value*a.scrollbarWidth.value),he.value=t)}function V(t){me.value=t}function le(t){const s=t===!0?"remove":a.isContainer.value!==!0?"add":"";s!==""&&document.body.classList[s]("q-body--drawer-toggle")}function De(){k!==null&&clearTimeout(k),o.proxy&&o.proxy.$el&&o.proxy.$el.classList.add("q-drawer--mini-animate"),Z.value=!0,k=setTimeout(()=>{k=null,Z.value=!1,o?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function He(t){if(v.value!==!1)return;const s=S.value,_=K(t.distance.x,0,s);if(t.isFinal===!0){_>=Math.min(75,s)===!0?p():(a.animate(),V(0),Q(W.value*s)),F.value=!1;return}Q((u.lang.rtl===!0?O.value!==!0:O.value)?Math.max(s-_,0):Math.min(0,_-s)),V(K(_/s,0,1)),t.isFirst===!0&&(F.value=!0)}function ge(t){if(v.value!==!0)return;const s=S.value,_=t.direction===e.side,U=(u.lang.rtl===!0?_!==!0:_)?K(t.distance.x,0,s):0;if(t.isFinal===!0){Math.abs(U)<Math.min(75,s)===!0?(a.animate(),V(1),Q(0)):L(),F.value=!1;return}Q(W.value*U),V(K(1-U/s,0,1)),t.isFirst===!0&&(F.value=!0)}function ne(){y(!1),le(!0)}function R(t,s){a.update(e.side,t,s)}function We(t,s){t.value!==s&&(t.value=s)}function oe(t,s){R("size",t===!0?e.miniWidth:s)}return a.instances[e.side]=H,oe(e.miniToOverlay,S.value),R("space",I.value),R("offset",ee.value),e.showIfAbove===!0&&e.modelValue!==!0&&v.value===!0&&e["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!0),xe(()=>{l("onLayout",I.value),l("miniState",P.value),z=e.showIfAbove===!0;const t=()=>{(v.value===!0?q:c)(!1,!0)};if(a.totalWidth.value!==0){ye(t);return}m=h(a.totalWidth,()=>{m(),m=void 0,v.value===!1&&e.showIfAbove===!0&&f.value===!1?p(!1):t()})}),ve(()=>{m?.(),k!==null&&(clearTimeout(k),k=null),v.value===!0&&ne(),a.instances[e.side]===H&&(a.instances[e.side]=void 0,R("size",0),R("offset",0),R("space",!1))}),()=>{const t=[];f.value===!0&&(e.noSwipeOpen===!1&&t.push(Ye(T("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Me.value)),t.push(we("div",{ref:"backdrop",class:Ce.value,style:_e.value,"aria-hidden":"true",onClick:L},void 0,"backdrop",e.noSwipeBackdrop!==!0&&v.value===!0,()=>Re.value)));const s=P.value===!0&&d.mini!==void 0,_=[T("div",{...r,key:""+s,class:[Pe.value,r.class]},s===!0?d.mini():J(d.default))];return e.elevated===!0&&v.value===!0&&_.push(T("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(we("aside",{ref:"content",class:Oe.value,style:Qe.value},_,"contentclose",e.noSwipeClose!==!0&&f.value===!0,()=>Ve.value)),T("div",{class:"q-drawer-container"},t)}}}),$t=D({name:"QPageContainer",setup(e,{slots:d}){const{proxy:{$q:l}}=E(),r=fe(Y,M);if(r===M)return console.error("QPageContainer needs to be child of QLayout"),M;qe(Ze,!0);const o=i(()=>{const u={};return r.header.space===!0&&(u.paddingTop=`${r.header.size}px`),r.right.space===!0&&(u[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${r.right.size}px`),r.footer.space===!0&&(u.paddingBottom=`${r.footer.size}px`),r.left.space===!0&&(u[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${r.left.size}px`),u});return()=>T("div",{class:"q-page-container",style:o.value},J(d.default))}}),{passive:Se}=et,Ct=["both","horizontal","vertical"],_t=D({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Ct.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:tt},emits:["scroll"],setup(e,{emit:d}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let r=null,o,u;h(()=>e.scrollTarget,()=>{C(),y()});function b(){r?.();const z=Math.max(0,nt(o)),k=ot(o),m={top:z-l.position.top,left:k-l.position.left};if(e.axis==="vertical"&&m.top===0||e.axis==="horizontal"&&m.left===0)return;const f=Math.abs(m.top)>=Math.abs(m.left)?m.top<0?"up":"down":m.left<0?"left":"right";l.position={top:z,left:k},l.directionChanged=l.direction!==f,l.delta=m,l.directionChanged===!0&&(l.direction=f,l.inflectionPoint=l.position),d("scroll",{...l})}function y(){o=at(u,e.scrollTarget),o.addEventListener("scroll",g,Se),g(!0)}function C(){o!==void 0&&(o.removeEventListener("scroll",g,Se),o=void 0)}function g(z){if(z===!0||e.debounce===0||e.debounce==="0")b();else if(r===null){const[k,m]=e.debounce?[setTimeout(b,e.debounce),clearTimeout]:[requestAnimationFrame(b),cancelAnimationFrame];r=()=>{m(k),r=null}}}const{proxy:a}=E();return h(()=>a.$q.lang.rtl,b),xe(()=>{u=a.$el.parentNode,y()}),ve(()=>{r?.(),C()}),Object.assign(a,{trigger:g,getPosition:()=>l}),lt}}),zt=D({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:d,emit:l}){const{proxy:{$q:r}}=E(),o=x(null),u=x(r.screen.height),b=x(e.container===!0?0:r.screen.width),y=x({position:0,direction:"down",inflectionPoint:0}),C=x(0),g=x(it.value===!0?0:ie()),a=i(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),z=i(()=>e.container===!1?{minHeight:r.screen.height+"px"}:null),k=i(()=>g.value!==0?{[r.lang.rtl===!0?"left":"right"]:`${g.value}px`}:null),m=i(()=>g.value!==0?{[r.lang.rtl===!0?"right":"left"]:0,[r.lang.rtl===!0?"left":"right"]:`-${g.value}px`,width:`calc(100% + ${g.value}px)`}:null);function f(c){if(e.container===!0||document.qScrollPrevented!==!0){const p={position:c.position.top,direction:c.direction,directionChanged:c.directionChanged,inflectionPoint:c.inflectionPoint.top,delta:c.delta.top};y.value=p,e.onScroll!==void 0&&l("scroll",p)}}function P(c){const{height:p,width:L}=c;let B=!1;u.value!==p&&(B=!0,u.value=p,e.onScrollHeight!==void 0&&l("scrollHeight",p),v()),b.value!==L&&(B=!0,b.value=L),B===!0&&e.onResize!==void 0&&l("resize",c)}function S({height:c}){C.value!==c&&(C.value=c,v())}function v(){if(e.container===!0){const c=u.value>C.value?ie():0;g.value!==c&&(g.value=c)}}let n=null;const q={instances:{},view:i(()=>e.view),isContainer:i(()=>e.container),rootRef:o,height:u,containerHeight:C,scrollbarWidth:g,totalWidth:i(()=>b.value+g.value),rows:i(()=>{const c=e.view.toLowerCase().split(" ");return{top:c[0].split(""),middle:c[1].split(""),bottom:c[2].split("")}}),header:j({size:0,offset:0,space:!1}),right:j({size:300,offset:0,space:!1}),footer:j({size:0,offset:0,space:!1}),left:j({size:300,offset:0,space:!1}),scroll:y,animate(){n!==null?clearTimeout(n):document.body.classList.add("q-body--layout-animate"),n=setTimeout(()=>{n=null,document.body.classList.remove("q-body--layout-animate")},155)},update(c,p,L){q[c][p]=L}};if(qe(Y,q),ie()>0){let c=function(){B=null,A.classList.remove("hide-scrollbar")},p=function(){if(B===null){if(A.scrollHeight>r.screen.height)return;A.classList.add("hide-scrollbar")}else clearTimeout(B);B=setTimeout(c,300)},L=function(H){B!==null&&H==="remove"&&(clearTimeout(B),c()),window[`${H}EventListener`]("resize",p)},B=null;const A=document.body;h(()=>e.container!==!0?"add":"remove",L),e.container!==!0&&L("add"),rt(()=>{L("remove")})}return()=>{const c=ut(d.default,[T(_t,{onScroll:f}),T(ce,{onResize:P})]),p=T("div",{class:a.value,style:z.value,ref:e.container===!0?void 0:o,tabindex:-1},c);return e.container===!0?T("div",{class:"q-layout-container overflow-hidden",ref:o},[T(ce,{onResize:S}),T("div",{class:"absolute-full",style:k.value},[T("div",{class:"scroll",style:m.value},[p])])]):p}}}),Bt=Le({__name:"EssentialLink",props:{title:{},caption:{default:""},link:{default:"#"},icon:{default:""}},setup(e){return(d,l)=>(G(),se(Tt,{clickable:"",tag:"a",target:!d.link||d.link?.startsWith("#")?"_self":"_blank",href:d.link},{default:$(()=>[d.icon?(G(),se(Te,{key:0,avatar:""},{default:$(()=>[w(ct,{name:d.icon},null,8,["name"])]),_:1})):st("",!0),w(Te,null,{default:$(()=>[w(de,null,{default:$(()=>[X(pe(d.title),1)]),_:1}),w(de,{caption:""},{default:$(()=>[X(pe(d.caption),1)]),_:1})]),_:1})]),_:1},8,["target","href"]))}}),Rt=Le({__name:"MainLayout",setup(e){const d=[{title:"Github",caption:"github.com/tcalmant/web-toolbox",icon:"code",link:"https://github.com/tcalmant/web-toolbox"}],l=x(!1);function r(){l.value=!l.value}return(o,u)=>{const b=ht("router-view");return G(),se(zt,{view:"lHh Lpr lFf"},{default:$(()=>[w(qt,{elevated:"",class:"print-hide"},{default:$(()=>[w(xt,null,{default:$(()=>[w(dt,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:r}),w(St,null,{default:$(()=>u[1]||(u[1]=[X(" Tom's toolbox ")])),_:1}),w(pt,null,{default:$(()=>[w(ue,{label:"NOTAM mapper",to:"/notam-mapper",exact:""}),w(ue,{label:"Fuel computer",to:"/fuel-computer",exact:""}),w(ue,{label:"Timestamp",to:"/timestamp",exact:""})]),_:1})]),_:1})]),_:1}),w(Lt,{class:"print-hide",modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=y=>l.value=y),bordered:""},{default:$(()=>[w(kt,null,{default:$(()=>[w(de,{header:""},{default:$(()=>u[2]||(u[2]=[X(" Essential Links ")])),_:1}),(G(),ft(mt,null,vt(d,y=>w(Bt,bt({key:y.title,ref_for:!0},y),null,16)),64))]),_:1})]),_:1},8,["modelValue"]),w($t,null,{default:$(()=>[w(b)]),_:1})]),_:1})}}});export{Rt as default};
