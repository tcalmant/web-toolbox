import{a as D,b as n,h as k,e as Z,u as je,f as Xe,w as g,g as ee,i as he,j as O,l as te,r as _,o as ze,k as Ge,n as Je,p as Ye,q as Ze,s as et,t as tt,v as at,x as lt,y as nt,z as Se,A as ot,B as it,C as Le,D as Qe,E as ut,F as se,G as rt,H as G,I as st,J as ct,K as be,L as ge,M as fe,N as F,O as p,P as dt,Q as m,R as Pe,S as N,T as E,m as ft,U as ve,V as U,W as vt,X as mt,Y as _e,Z as Te,_ as ht,$ as qe}from"./index-BrmB3BRz.js";import{u as bt,a as gt,b as yt,Q as wt,c as pt}from"./QScrollObserver-BK9GccWU.js";import{Q as me,a as $e}from"./QList-5j7aqE0Z.js";import{b as J,Q as kt,a as xe,c as Y,d as St}from"./QSelect-Ja8DBz_k.js";import{T as ce}from"./TouchPan-17NJB6_8.js";const Lt=D({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:h}){const u=n(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>k("div",{class:u.value},Z(h.default))}}),de=D({name:"QRouteTab",props:{...je,...bt},emits:gt,setup(e,{slots:h,emit:u}){const r=Xe({useDisableForRouterLinkProps:!1}),{renderTab:i,$tabs:l}=yt(e,h,u,{exact:n(()=>e.exact),...r});return g(()=>`${e.name} | ${e.exact} | ${(r.resolvedLink.value||{}).href}`,l.verifyRouteModel),()=>i(r.linkTag.value,r.linkAttrs.value)}}),_t=D({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:h}){const u=n(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>k("div",{class:u.value,role:"toolbar"},Z(h.default))}}),Tt=D({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:h,emit:u}){const{proxy:{$q:r}}=ee(),i=he(te,O);if(i===O)return console.error("QHeader needs to be child of QLayout"),O;const l=_(parseInt(e.heightHint,10)),c=_(!0),y=n(()=>e.reveal===!0||i.view.value.indexOf("H")!==-1||r.platform.is.ios&&i.isContainer.value===!0),T=n(()=>{if(e.modelValue!==!0)return 0;if(y.value===!0)return c.value===!0?l.value:0;const o=l.value-i.scroll.value.position;return o>0?o:0}),b=n(()=>e.modelValue!==!0||y.value===!0&&c.value!==!0),a=n(()=>e.modelValue===!0&&b.value===!0&&e.reveal===!0),M=n(()=>"q-header q-layout__section--marginal "+(y.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(b.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),z=n(()=>{const o=i.rows.value.top,q={};return o[0]==="l"&&i.left.space===!0&&(q[r.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),o[2]==="r"&&i.right.space===!0&&(q[r.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),q});function S(o,q){i.update("header",o,q)}function v(o,q){o.value!==q&&(o.value=q)}function Q({height:o}){v(l,o),S("size",o)}function L(o){a.value===!0&&v(c,!0),u("focusin",o)}g(()=>e.modelValue,o=>{S("space",o),v(c,!0),i.animate()}),g(T,o=>{S("offset",o)}),g(()=>e.reveal,o=>{o===!1&&v(c,e.modelValue)}),g(c,o=>{i.animate(),u("reveal",o)}),g(i.scroll,o=>{e.reveal===!0&&v(c,o.direction==="up"||o.position<=e.revealOffset||o.position-o.inflectionPoint<100)});const f={};return i.instances.header=f,e.modelValue===!0&&S("size",l.value),S("space",e.modelValue),S("offset",T.value),ze(()=>{i.instances.header===f&&(i.instances.header=void 0,S("size",0),S("offset",0),S("space",!1))}),()=>{const o=Ge(h.default,[]);return e.elevated===!0&&o.push(k("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(k(me,{debounce:0,onResize:Q})),k("header",{class:M.value,style:z.value,onFocusin:L},o)}}}),Ce=150,qt=D({name:"QDrawer",inheritAttrs:!1,props:{...Ze,...Ye,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Je,"onLayout","miniState"],setup(e,{slots:h,emit:u,attrs:r}){const i=ee(),{proxy:{$q:l}}=i,c=et(e,l),{preventBodyScroll:y}=nt(),{registerTimeout:T,removeTimeout:b}=tt(),a=he(te,O);if(a===O)return console.error("QDrawer needs to be child of QLayout"),O;let M,z=null,S;const v=_(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),Q=n(()=>e.mini===!0&&v.value!==!0),L=n(()=>Q.value===!0?e.miniWidth:e.width),f=_(e.showIfAbove===!0&&v.value===!1?!0:e.modelValue===!0),o=n(()=>e.persistent!==!0&&(v.value===!0||Oe.value===!0));function q(t,s){if(C(),t!==!1&&a.animate(),B(0),v.value===!0){const x=a.instances[j.value];x?.belowBreakpoint===!0&&x.hide(!1),R(1),a.isContainer.value!==!0&&y(!0)}else R(0),t!==!1&&ie(!1);T(()=>{t!==!1&&ie(!0),s!==!0&&u("show",t)},Ce)}function d(t,s){K(),t!==!1&&a.animate(),R(0),B(H.value*L.value),ue(),s!==!0?T(()=>{u("hide",t)},Ce):b()}const{show:w,hide:$}=at({showing:f,hideOnRouteChange:o,handleShow:q,handleHide:d}),{addToHistory:C,removeFromHistory:K}=lt(f,$,o),W={belowBreakpoint:v,hide:$},P=n(()=>e.side==="right"),H=n(()=>(l.lang.rtl===!0?-1:1)*(P.value===!0?1:-1)),ye=_(0),I=_(!1),ae=_(!1),we=_(L.value*H.value),j=n(()=>P.value===!0?"left":"right"),le=n(()=>f.value===!0&&v.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:L.value:0),ne=n(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(P.value?"R":"L")!==-1||l.platform.is.ios===!0&&a.isContainer.value===!0),A=n(()=>e.overlay===!1&&f.value===!0&&v.value===!1),Oe=n(()=>e.overlay===!0&&f.value===!0&&v.value===!1),Re=n(()=>"fullscreen q-drawer__backdrop"+(f.value===!1&&I.value===!1?" hidden":"")),Ve=n(()=>({backgroundColor:`rgba(0,0,0,${ye.value*.4})`})),pe=n(()=>P.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),Me=n(()=>P.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),We=n(()=>{const t={};return a.header.space===!0&&pe.value===!1&&(ne.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&Me.value===!1&&(ne.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),De=n(()=>{const t={width:`${L.value}px`,transform:`translateX(${we.value}px)`};return v.value===!0?t:Object.assign(t,We.value)}),He=n(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Ie=n(()=>`q-drawer q-drawer--${e.side}`+(ae.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(c.value===!0?" q-drawer--dark q-dark":"")+(I.value===!0?" no-transition":f.value===!0?"":" q-layout--prevent-focus")+(v.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${Q.value===!0?"mini":"standard"}`+(ne.value===!0||A.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(pe.value===!0?" q-drawer--top-padding":""))),Fe=n(()=>{const t=l.lang.rtl===!0?e.side:j.value;return[[ce,Ee,void 0,{[t]:!0,mouse:!0}]]}),Ke=n(()=>{const t=l.lang.rtl===!0?j.value:e.side;return[[ce,ke,void 0,{[t]:!0,mouse:!0}]]}),Ae=n(()=>{const t=l.lang.rtl===!0?j.value:e.side;return[[ce,ke,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function oe(){Ue(v,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}g(v,t=>{t===!0?(M=f.value,f.value===!0&&$(!1)):e.overlay===!1&&e.behavior!=="mobile"&&M!==!1&&(f.value===!0?(B(0),R(0),ue()):w(!1))}),g(()=>e.side,(t,s)=>{a.instances[s]===W&&(a.instances[s]=void 0,a[s].space=!1,a[s].offset=0),a.instances[t]=W,a[t].size=L.value,a[t].space=A.value,a[t].offset=le.value}),g(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&oe()}),g(()=>e.behavior+e.breakpoint,oe),g(a.isContainer,t=>{f.value===!0&&y(t!==!0),t===!0&&oe()}),g(a.scrollbarWidth,()=>{B(f.value===!0?0:void 0)}),g(le,t=>{V("offset",t)}),g(A,t=>{u("onLayout",t),V("space",t)}),g(P,()=>{B()}),g(L,t=>{B(),re(e.miniToOverlay,t)}),g(()=>e.miniToOverlay,t=>{re(t,L.value)}),g(()=>l.lang.rtl,()=>{B()}),g(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Ne(),a.animate())}),g(Q,t=>{u("miniState",t)});function B(t){t===void 0?Se(()=>{t=f.value===!0?0:L.value,B(H.value*t)}):(a.isContainer.value===!0&&P.value===!0&&(v.value===!0||Math.abs(t)===L.value)&&(t+=H.value*a.scrollbarWidth.value),we.value=t)}function R(t){ye.value=t}function ie(t){const s=t===!0?"remove":a.isContainer.value!==!0?"add":"";s!==""&&document.body.classList[s]("q-body--drawer-toggle")}function Ne(){z!==null&&clearTimeout(z),i.proxy&&i.proxy.$el&&i.proxy.$el.classList.add("q-drawer--mini-animate"),ae.value=!0,z=setTimeout(()=>{z=null,ae.value=!1,i?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function Ee(t){if(f.value!==!1)return;const s=L.value,x=J(t.distance.x,0,s);if(t.isFinal===!0){x>=Math.min(75,s)===!0?w():(a.animate(),R(0),B(H.value*s)),I.value=!1;return}B((l.lang.rtl===!0?P.value!==!0:P.value)?Math.max(s-x,0):Math.min(0,x-s)),R(J(x/s,0,1)),t.isFirst===!0&&(I.value=!0)}function ke(t){if(f.value!==!0)return;const s=L.value,x=t.direction===e.side,X=(l.lang.rtl===!0?x!==!0:x)?J(t.distance.x,0,s):0;if(t.isFinal===!0){Math.abs(X)<Math.min(75,s)===!0?(a.animate(),R(1),B(0)):$(),I.value=!1;return}B(H.value*X),R(J(1-X/s,0,1)),t.isFirst===!0&&(I.value=!0)}function ue(){y(!1),ie(!0)}function V(t,s){a.update(e.side,t,s)}function Ue(t,s){t.value!==s&&(t.value=s)}function re(t,s){V("size",t===!0?e.miniWidth:s)}return a.instances[e.side]=W,re(e.miniToOverlay,L.value),V("space",A.value),V("offset",le.value),e.showIfAbove===!0&&e.modelValue!==!0&&f.value===!0&&e["onUpdate:modelValue"]!==void 0&&u("update:modelValue",!0),ot(()=>{u("onLayout",A.value),u("miniState",Q.value),M=e.showIfAbove===!0;const t=()=>{(f.value===!0?q:d)(!1,!0)};if(a.totalWidth.value!==0){Se(t);return}S=g(a.totalWidth,()=>{S(),S=void 0,f.value===!1&&e.showIfAbove===!0&&v.value===!1?w(!1):t()})}),ze(()=>{S?.(),z!==null&&(clearTimeout(z),z=null),f.value===!0&&ue(),a.instances[e.side]===W&&(a.instances[e.side]=void 0,V("size",0),V("offset",0),V("space",!1))}),()=>{const t=[];v.value===!0&&(e.noSwipeOpen===!1&&t.push(it(k("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Fe.value)),t.push(Le("div",{ref:"backdrop",class:Re.value,style:Ve.value,"aria-hidden":"true",onClick:$},void 0,"backdrop",e.noSwipeBackdrop!==!0&&f.value===!0,()=>Ae.value)));const s=Q.value===!0&&h.mini!==void 0,x=[k("div",{...r,key:""+s,class:[He.value,r.class]},s===!0?h.mini():Z(h.default))];return e.elevated===!0&&f.value===!0&&x.push(k("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(Le("aside",{ref:"content",class:Ie.value,style:De.value},x,"contentclose",e.noSwipeClose!==!0&&v.value===!0,()=>Ke.value)),k("div",{class:"q-drawer-container"},t)}}}),$t=D({name:"QPageContainer",setup(e,{slots:h}){const{proxy:{$q:u}}=ee(),r=he(te,O);if(r===O)return console.error("QPageContainer needs to be child of QLayout"),O;Qe(ut,!0);const i=n(()=>{const l={};return r.header.space===!0&&(l.paddingTop=`${r.header.size}px`),r.right.space===!0&&(l[`padding${u.lang.rtl===!0?"Left":"Right"}`]=`${r.right.size}px`),r.footer.space===!0&&(l.paddingBottom=`${r.footer.size}px`),r.left.space===!0&&(l[`padding${u.lang.rtl===!0?"Right":"Left"}`]=`${r.left.size}px`),l});return()=>k("div",{class:"q-page-container",style:i.value},Z(h.default))}}),xt=D({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:h,emit:u}){const{proxy:{$q:r}}=ee(),i=_(null),l=_(r.screen.height),c=_(e.container===!0?0:r.screen.width),y=_({position:0,direction:"down",inflectionPoint:0}),T=_(0),b=_(rt.value===!0?0:se()),a=n(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),M=n(()=>e.container===!1?{minHeight:r.screen.height+"px"}:null),z=n(()=>b.value!==0?{[r.lang.rtl===!0?"left":"right"]:`${b.value}px`}:null),S=n(()=>b.value!==0?{[r.lang.rtl===!0?"right":"left"]:0,[r.lang.rtl===!0?"left":"right"]:`-${b.value}px`,width:`calc(100% + ${b.value}px)`}:null);function v(d){if(e.container===!0||document.qScrollPrevented!==!0){const w={position:d.position.top,direction:d.direction,directionChanged:d.directionChanged,inflectionPoint:d.inflectionPoint.top,delta:d.delta.top};y.value=w,e.onScroll!==void 0&&u("scroll",w)}}function Q(d){const{height:w,width:$}=d;let C=!1;l.value!==w&&(C=!0,l.value=w,e.onScrollHeight!==void 0&&u("scrollHeight",w),f()),c.value!==$&&(C=!0,c.value=$),C===!0&&e.onResize!==void 0&&u("resize",d)}function L({height:d}){T.value!==d&&(T.value=d,f())}function f(){if(e.container===!0){const d=l.value>T.value?se():0;b.value!==d&&(b.value=d)}}let o=null;const q={instances:{},view:n(()=>e.view),isContainer:n(()=>e.container),rootRef:i,height:l,containerHeight:T,scrollbarWidth:b,totalWidth:n(()=>c.value+b.value),rows:n(()=>{const d=e.view.toLowerCase().split(" ");return{top:d[0].split(""),middle:d[1].split(""),bottom:d[2].split("")}}),header:G({size:0,offset:0,space:!1}),right:G({size:300,offset:0,space:!1}),footer:G({size:0,offset:0,space:!1}),left:G({size:300,offset:0,space:!1}),scroll:y,animate(){o!==null?clearTimeout(o):document.body.classList.add("q-body--layout-animate"),o=setTimeout(()=>{o=null,document.body.classList.remove("q-body--layout-animate")},155)},update(d,w,$){q[d][w]=$}};if(Qe(te,q),se()>0){let d=function(){C=null,K.classList.remove("hide-scrollbar")},w=function(){if(C===null){if(K.scrollHeight>r.screen.height)return;K.classList.add("hide-scrollbar")}else clearTimeout(C);C=setTimeout(d,300)},$=function(W){C!==null&&W==="remove"&&(clearTimeout(C),d()),window[`${W}EventListener`]("resize",w)},C=null;const K=document.body;g(()=>e.container!==!0?"add":"remove",$),e.container!==!0&&$("add"),st(()=>{$("remove")})}return()=>{const d=ct(h.default,[k(wt,{onScroll:v}),k(me,{onResize:Q})]),w=k("div",{class:a.value,style:M.value,ref:e.container===!0?void 0:i,tabindex:-1},d);return e.container===!0?k("div",{class:"q-layout-container overflow-hidden",ref:i},[k(me,{onResize:L}),k("div",{class:"absolute-full",style:z.value},[k("div",{class:"scroll",style:S.value},[w])])]):w}}}),Be=be({__name:"EssentialLink",props:{id:{},title:{},titleKey:{},caption:{default:""},captionKey:{},link:{default:"#"},icon:{default:""}},setup(e){const{t:h}=ge(),u=e,r=n(()=>u.titleKey&&h(u.titleKey)||u.title),i=n(()=>u.captionKey?h(u.captionKey)??u.caption:u.caption);return(l,c)=>(F(),fe(kt,{clickable:"",tag:"a",target:!l.link||l.link?.startsWith("#")?"_self":"_blank",href:l.link},{default:p(()=>[l.icon?(F(),fe(xe,{key:0,avatar:""},{default:p(()=>[m(Pe,{name:l.icon},null,8,["name"])]),_:1})):dt("",!0),m(xe,null,{default:p(()=>[m(Y,null,{default:p(()=>[N(E(r.value),1)]),_:1}),m(Y,{caption:""},{default:p(()=>[N(E(i.value),1)]),_:1})]),_:1})]),_:1},8,["target","href"]))}}),Ct={class:"q-pa-md full-width"},Bt=be({__name:"LanguageSwitcher",setup(e){const{t:h,locale:u}=ge({useScope:"global"});class r{label;value;flag;constructor(c,y,T){this.label=c,this.value=y,this.flag=T}}const i=Object.entries(ft).map(([l,c])=>new r(c.languageName??l,l)).sort((l,c)=>l.value.localeCompare(c.value));return(l,c)=>(F(),ve("div",Ct,[m(St,{modelValue:U(u),"onUpdate:modelValue":c[0]||(c[0]=y=>vt(u)?u.value=y:null),options:U(i),label:U(h)("languageSwitch"),dense:"","emit-value":"","map-options":""},{append:p(()=>[m(Pe,{name:"public"})]),_:1},8,["modelValue","options","label"])]))}}),Mt=be({__name:"MainLayout",setup(e){const{t:h}=ge(),u=[{id:"sia",title:"Service de l'Information AÃ©ronautique",captionKey:"siaLinkSubtitle",icon:"info",link:"https://www.sia.aviation-civile.gouv.fr/"},{id:"sofia",title:"Sofia Briefing",captionKey:"sofiaLinkSubtitle",icon:"timer",link:"https://sofia-briefing.aviation-civile.gouv.fr/"},{id:"aeroweb",title:"AeroWeb",captionKey:"aerowebLinkSubtitle",icon:"cloud",link:"https://aviation.meteo.fr/"}],r=[{id:"bugReport",titleKey:"reportLink",captionKey:"reportLinkSubtitle",icon:"feedback",link:"https://github.com/tcalmant/web-toolbox/issues"},{id:"src",titleKey:"srcLink",caption:"github.com/tcalmant/web-toolbox",icon:"code",link:"https://github.com/tcalmant/web-toolbox"}],i=_(!1);function l(){i.value=!i.value}return(c,y)=>{const T=ht("router-view");return F(),fe(xt,{view:"hHh Lpr lFf"},{default:p(()=>[m(Tt,{elevated:"",class:"print-hide"},{default:p(()=>[m(_t,null,{default:p(()=>[m(mt,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:l}),m(Lt,null,{default:p(()=>[N(E(c.$t("mainTitle")),1)]),_:1}),m(pt,null,{default:p(()=>[m(de,{label:c.$t("notamMapperTitle"),to:"/notam-mapper",exact:""},null,8,["label"]),m(de,{label:c.$t("fuelComputerTitle"),to:"/fuel-computer",exact:""},null,8,["label"]),m(de,{label:c.$t("timestampTitle"),to:"/timestamp",exact:""},null,8,["label"])]),_:1})]),_:1})]),_:1}),m(qt,{class:"print-hide",modelValue:i.value,"onUpdate:modelValue":y[0]||(y[0]=b=>i.value=b),bordered:"",overlay:""},{default:p(()=>[m($e,null,{default:p(()=>[m(Y,{header:""},{default:p(()=>[N(E(U(h)("aviationLinks")),1)]),_:1}),(F(),ve(Te,null,_e(u,b=>m(Be,qe({key:b.id,ref_for:!0},b),null,16)),64))]),_:1}),m($e,null,{default:p(()=>[m(Y,{header:""},{default:p(()=>[N(E(U(h)("projectLinks")),1)]),_:1}),(F(),ve(Te,null,_e(r,b=>m(Be,qe({key:b.id,ref_for:!0},b),null,16)),64))]),_:1}),m(Bt,{style:{position:"absolute",bottom:"0"}})]),_:1},8,["modelValue"]),m($t,null,{default:p(()=>[m(T)]),_:1})]),_:1})}}});export{Mt as default};
