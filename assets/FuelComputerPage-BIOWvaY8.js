import{k as Me,a7 as Ll,a8 as il,a9 as Hl,aa as $l,ab as Ul,x as Lt,g as Ae,z as Ht,ac as Dl,c as w,H as fn,ad as vn,h as _,Z as Ge,ae as mn,af as Qe,r as L,ag as zt,ah as pl,E as Ie,ai as Nl,w as Z,o as Gt,q as it,aj as gn,K as Ot,ak as yl,al as hn,Q as bn,v as pn,L as Kl,am as yn,y as Sn,an as wn,A as Cn,ao as xn,B as kn,ap as _n,aq as qn,ar as Sl,as as Tn,at as Vn,au as Fn,M as jl,av as Rn,aw as Pn,l as rt,ax as En,ay as Wl,N as Bn,az as Mn,aA as ul,aB as sl,aC as cl,aD as An,aE as zn,aF as wl,aG as On,aH as Et,aI as In,aJ as Ln,aK as Hn,aL as xt,aM as $n,U as Xt,t as Un,aN as Dn,aO as Cl,aP as nl,aQ as xl,aR as Nn,aS as Kn,aT as Nt,aU as Bt,a0 as at,aV as ht,a as Ql,n as Jt,p as jn,R as Wn,aW as Qn,I as Gn,aX as Xn,aY as Yn,d as dl,aZ as Gl,a_ as Xl,V as kt,W as Le,X as re,a$ as he,a1 as qt,Y as It,f as K,$ as de,b0 as jt,G as Yl,a6 as vt,a5 as ot,b1 as Zl,F as fl,a2 as Jl,_ as Tt,b2 as en,b3 as kl}from"./index-Dxw36nj4.js";import{a as mt,b as Zn,Q as vl,c as ml}from"./QItem-BpG3ZjKO.js";import{c as Jn,r as al,n as _l,Q as ea}from"./format-DDzBwEBV.js";import{Q as ta}from"./QPage-LoJfH5XO.js";import{g as la}from"./_commonjsHelpers-CqkleIqs.js";import{T as Je}from"./timeUtils-ODJ87_1F.js";const na=Me({name:"QField",inheritAttrs:!1,props:{...il,tag:{type:String,default:"label"}},emits:Ll,setup(){return Hl($l({tagProp:!0}))}}),aa={xs:8,sm:10,md:14,lg:20,xl:24},oa=Me({name:"QChip",props:{...Lt,...Ul,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:a}){const{proxy:{$q:o}}=Ae(),r=Ht(e,o),c=Dl(e,aa),f=w(()=>e.selected===!0||e.icon!==void 0),v=w(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),g=w(()=>e.iconRemove||o.iconSet.chip.remove),C=w(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=w(()=>{const y=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(y?` text-${y} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(C.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(r.value===!0?" q-chip--dark q-dark":"")}),k=w(()=>{const y=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},I={...y,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:y,remove:I}});function q(y){y.keyCode===13&&s(y)}function s(y){e.disable||(a("update:selected",!e.selected),a("click",y))}function h(y){(y.keyCode===void 0||y.keyCode===13)&&(Qe(y),e.disable===!1&&(a("update:modelValue",!1),a("remove")))}function x(){const y=[];C.value===!0&&y.push(_("div",{class:"q-focus-helper"})),f.value===!0&&y.push(_(Ge,{class:"q-chip__icon q-chip__icon--left",name:v.value}));const I=e.label!==void 0?[_("div",{class:"ellipsis"},[e.label])]:void 0;return y.push(_("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},mn(l.default,I))),e.iconRight&&y.push(_(Ge,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&y.push(_(Ge,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,...k.value.remove,onClick:h,onKeyup:h})),y}return()=>{if(e.modelValue===!1)return;const y={class:d.value,style:c.value};return C.value===!0&&Object.assign(y,k.value.chip,{onClick:s,onKeyup:q}),fn("div",y,x(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[vn,e.ripple]])}}}),ra={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},ia={...ra,contextMenu:Boolean};function ua({showing:e,avoidEmit:l,configureAnchorEl:a}){const{props:o,proxy:r,emit:c}=Ae(),f=L(null);let v=null;function g(s){return f.value===null?!1:s===void 0||s.touches===void 0||s.touches.length<=1}const C={};a===void 0&&(Object.assign(C,{hide(s){r.hide(s)},toggle(s){r.toggle(s),s.qAnchorHandled=!0},toggleKey(s){Nl(s,13)===!0&&C.toggle(s)},contextClick(s){r.hide(s),zt(s),Ie(()=>{r.show(s),s.qAnchorHandled=!0})},prevent:zt,mobileTouch(s){if(C.mobileCleanup(s),g(s)!==!0)return;r.hide(s),f.value.classList.add("non-selectable");const h=s.target;pl(C,"anchor",[[h,"touchmove","mobileCleanup","passive"],[h,"touchend","mobileCleanup","passive"],[h,"touchcancel","mobileCleanup","passive"],[f.value,"contextmenu","prevent","notPassive"]]),v=setTimeout(()=>{v=null,r.show(s),s.qAnchorHandled=!0},300)},mobileCleanup(s){f.value.classList.remove("non-selectable"),v!==null&&(clearTimeout(v),v=null),e.value===!0&&s!==void 0&&Jn()}}),a=function(s=o.contextMenu){if(o.noParentEvent===!0||f.value===null)return;let h;s===!0?r.$q.platform.is.mobile===!0?h=[[f.value,"touchstart","mobileTouch","passive"]]:h=[[f.value,"mousedown","hide","passive"],[f.value,"contextmenu","contextClick","notPassive"]]:h=[[f.value,"click","toggle","passive"],[f.value,"keyup","toggleKey","passive"]],pl(C,"anchor",h)});function d(){gn(C,"anchor")}function k(s){for(f.value=s;f.value.classList.contains("q-anchor--skip");)f.value=f.value.parentNode;a()}function q(){if(o.target===!1||o.target===""||r.$el.parentNode===null)f.value=null;else if(o.target===!0)k(r.$el.parentNode);else{let s=o.target;if(typeof o.target=="string")try{s=document.querySelector(o.target)}catch{s=void 0}s!=null?(f.value=s.$el||s,a()):(f.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return Z(()=>o.contextMenu,s=>{f.value!==null&&(d(),a(s))}),Z(()=>o.target,()=>{f.value!==null&&d(),q()}),Z(()=>o.noParentEvent,s=>{f.value!==null&&(s===!0?d():a())}),Gt(()=>{q(),l!==!0&&o.modelValue===!0&&f.value===null&&c("update:modelValue",!1)}),it(()=>{v!==null&&clearTimeout(v),d()}),{anchorEl:f,canShow:g,anchorEvents:C}}function sa(e,l){const a=L(null);let o;function r(v,g){const C=`${g!==void 0?"add":"remove"}EventListener`,d=g!==void 0?g:o;v!==window&&v[C]("scroll",d,Ot.passive),window[C]("scroll",d,Ot.passive),o=g}function c(){a.value!==null&&(r(a.value),a.value=null)}const f=Z(()=>e.noParentEvent,()=>{a.value!==null&&(c(),l())});return it(f),{localScrollTarget:a,unconfigureScrollTarget:c,changeScrollEvent:r}}const{notPassiveCapture:Wt}=Ot,gt=[];function Qt(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let a=yl.length-1;for(;a>=0;){const o=yl[a].$;if(o.type.name==="QTooltip"){a--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;a--}for(let o=gt.length-1;o>=0;o--){const r=gt[o];if((r.anchorEl.value===null||r.anchorEl.value.contains(l)===!1)&&(l===document.body||r.innerRef.value!==null&&r.innerRef.value.contains(l)===!1))e.qClickOutside=!0,r.onClickOutside(e);else return}}function ca(e){gt.push(e),gt.length===1&&(document.addEventListener("mousedown",Qt,Wt),document.addEventListener("touchstart",Qt,Wt))}function ql(e){const l=gt.findIndex(a=>a===e);l!==-1&&(gt.splice(l,1),gt.length===0&&(document.removeEventListener("mousedown",Qt,Wt),document.removeEventListener("touchstart",Qt,Wt)))}let Tl,Vl;function Fl(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function da(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ol={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ol[`${e}#ltr`]=e,ol[`${e}#rtl`]=e});function Rl(e,l){const a=e.split(" ");return{vertical:a[0],horizontal:ol[`${a[1]}#${l===!0?"rtl":"ltr"}`]}}function fa(e,l){let{top:a,left:o,right:r,bottom:c,width:f,height:v}=e.getBoundingClientRect();return l!==void 0&&(a-=l[1],o-=l[0],c+=l[1],r+=l[0],f+=l[0],v+=l[1]),{top:a,bottom:c,height:v,left:o,right:r,width:f,middle:o+(r-o)/2,center:a+(c-a)/2}}function va(e,l,a){let{top:o,left:r}=e.getBoundingClientRect();return o+=l.top,r+=l.left,a!==void 0&&(o+=a[1],r+=a[0]),{top:o,bottom:o+1,height:1,left:r,right:r+1,width:1,middle:r,center:o}}function ma(e,l){return{top:0,center:l/2,bottom:l,left:0,middle:e/2,right:e}}function Pl(e,l,a,o){return{top:e[a.vertical]-l[o.vertical],left:e[a.horizontal]-l[o.horizontal]}}function tn(e,l=0){if(e.targetEl===null||e.anchorEl===null||l>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{tn(e,l+1)},10);return}const{targetEl:a,offset:o,anchorEl:r,anchorOrigin:c,selfOrigin:f,absoluteOffset:v,fit:g,cover:C,maxHeight:d,maxWidth:k}=e;if(hn.is.ios===!0&&window.visualViewport!==void 0){const O=document.body.style,{offsetLeft:j,offsetTop:ee}=window.visualViewport;j!==Tl&&(O.setProperty("--q-pe-left",j+"px"),Tl=j),ee!==Vl&&(O.setProperty("--q-pe-top",ee+"px"),Vl=ee)}const{scrollLeft:q,scrollTop:s}=a,h=v===void 0?fa(r,C===!0?[0,0]:o):va(r,v,o);Object.assign(a.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:k,maxHeight:d,visibility:"visible"});const{offsetWidth:x,offsetHeight:y}=a,{elWidth:I,elHeight:H}=g===!0||C===!0?{elWidth:Math.max(h.width,x),elHeight:C===!0?Math.max(h.height,y):y}:{elWidth:x,elHeight:y};let B={maxWidth:k,maxHeight:d};(g===!0||C===!0)&&(B.minWidth=h.width+"px",C===!0&&(B.minHeight=h.height+"px")),Object.assign(a.style,B);const T=ma(I,H);let S=Pl(h,T,c,f);if(v===void 0||o===void 0)el(S,h,T,c,f);else{const{top:O,left:j}=S;el(S,h,T,c,f);let ee=!1;if(S.top!==O){ee=!0;const te=2*o[1];h.center=h.top-=te,h.bottom-=te+2}if(S.left!==j){ee=!0;const te=2*o[0];h.middle=h.left-=te,h.right-=te+2}ee===!0&&(S=Pl(h,T,c,f),el(S,h,T,c,f))}B={top:S.top+"px",left:S.left+"px"},S.maxHeight!==void 0&&(B.maxHeight=S.maxHeight+"px",h.height>S.maxHeight&&(B.minHeight=B.maxHeight)),S.maxWidth!==void 0&&(B.maxWidth=S.maxWidth+"px",h.width>S.maxWidth&&(B.minWidth=B.maxWidth)),Object.assign(a.style,B),a.scrollTop!==s&&(a.scrollTop=s),a.scrollLeft!==q&&(a.scrollLeft=q)}function el(e,l,a,o,r){const c=a.bottom,f=a.right,v=bn(),g=window.innerHeight-v,C=document.body.clientWidth;if(e.top<0||e.top+c>g)if(r.vertical==="center")e.top=l[o.vertical]>g/2?Math.max(0,g-c):0,e.maxHeight=Math.min(c,g);else if(l[o.vertical]>g/2){const d=Math.min(g,o.vertical==="center"?l.center:o.vertical===r.vertical?l.bottom:l.top);e.maxHeight=Math.min(c,d),e.top=Math.max(0,d-c)}else e.top=Math.max(0,o.vertical==="center"?l.center:o.vertical===r.vertical?l.top:l.bottom),e.maxHeight=Math.min(c,g-e.top);if(e.left<0||e.left+f>C)if(e.maxWidth=Math.min(f,C),r.horizontal==="middle")e.left=l[o.horizontal]>C/2?Math.max(0,C-f):0;else if(l[o.horizontal]>C/2){const d=Math.min(C,o.horizontal==="middle"?l.middle:o.horizontal===r.horizontal?l.right:l.left);e.maxWidth=Math.min(f,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?l.middle:o.horizontal===r.horizontal?l.left:l.right),e.maxWidth=Math.min(f,C-e.left)}const ga=Me({name:"QMenu",inheritAttrs:!1,props:{...ia,...Sn,...Lt,...yn,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Fl},self:{type:String,validator:Fl},offset:{type:Array,validator:da},scrollTarget:Kl,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...pn,"click","escapeKey"],setup(e,{slots:l,emit:a,attrs:o}){let r=null,c,f,v;const g=Ae(),{proxy:C}=g,{$q:d}=C,k=L(null),q=L(!1),s=w(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),h=Ht(e,d),{registerTick:x,removeTick:y}=wn(),{registerTimeout:I}=Cn(),{transitionProps:H,transitionStyle:B}=xn(e),{localScrollTarget:T,changeScrollEvent:S,unconfigureScrollTarget:O}=sa(e,U),{anchorEl:j,canShow:ee}=ua({showing:q}),{hide:te}=kn({showing:q,canShow:ee,handleShow:$e,handleHide:p,hideOnRouteChange:s,processOnMount:!0}),{showPortal:G,hidePortal:me,renderPortal:ie}=_n(g,k,Y,"menu"),qe={anchorEl:j,innerRef:k,onClickOutside(F){if(e.persistent!==!0&&q.value===!0)return te(F),(F.type==="touchstart"||F.target.classList.contains("q-dialog__backdrop"))&&Qe(F),!0}},He=w(()=>Rl(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),xe=w(()=>e.cover===!0?He.value:Rl(e.self||"top start",d.lang.rtl)),ge=w(()=>(e.square===!0?" q-menu--square":"")+(h.value===!0?" q-menu--dark q-dark":"")),ze=w(()=>e.autoClose===!0?{onClick:X}:{}),Re=w(()=>q.value===!0&&e.persistent!==!0);Z(Re,F=>{F===!0?(qn(N),ca(qe)):(Sl(N),ql(qe))});function fe(){Wl(()=>{let F=k.value;F&&F.contains(document.activeElement)!==!0&&(F=F.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||F.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||F.querySelector("[autofocus], [data-autofocus]")||F,F.focus({preventScroll:!0}))})}function $e(F){if(r=e.noRefocus===!1?document.activeElement:null,Tn(le),G(),U(),c=void 0,F!==void 0&&(e.touchPosition||e.contextMenu)){const ae=Vn(F);if(ae.left!==void 0){const{top:pe,left:Ue}=j.value.getBoundingClientRect();c={left:ae.left-Ue,top:ae.top-pe}}}f===void 0&&(f=Z(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,$)),e.noFocus!==!0&&document.activeElement.blur(),x(()=>{$(),e.noFocus!==!0&&fe()}),I(()=>{d.platform.is.ios===!0&&(v=e.autoClose,k.value.click()),$(),G(!0),a("show",F)},e.transitionDuration)}function p(F){y(),me(),P(!0),r!==null&&(F===void 0||F.qClickOutside!==!0)&&(((F?.type.indexOf("key")===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),I(()=>{me(!0),a("hide",F)},e.transitionDuration)}function P(F){c=void 0,f!==void 0&&(f(),f=void 0),(F===!0||q.value===!0)&&(Fn(le),O(),ql(qe),Sl(N)),F!==!0&&(r=null)}function U(){(j.value!==null||e.scrollTarget!==void 0)&&(T.value=jl(j.value,e.scrollTarget),S(T.value,$))}function X(F){v!==!0?(Rn(C,F),a("click",F)):v=!1}function le(F){Re.value===!0&&e.noFocus!==!0&&Pn(k.value,F.target)!==!0&&fe()}function N(F){e.noEscDismiss!==!0&&(a("escapeKey"),te(F))}function $(){tn({targetEl:k.value,offset:e.offset,anchorEl:j.value,anchorOrigin:He.value,selfOrigin:xe.value,absoluteOffset:c,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Y(){return _(En,H.value,()=>q.value===!0?_("div",{role:"menu",...o,ref:k,tabindex:-1,class:["q-menu q-position-engine scroll"+ge.value,o.class],style:[o.style,B.value],...ze.value},rt(l.default)):null)}return it(P),Object.assign(C,{focus:fe,updatePosition:$}),ie}}),De=1e3,ha=["start","center","end","start-force","center-force","end-force"],ln=Array.prototype.filter,ba=window.getComputedStyle(document.body).overflowAnchor===void 0?Bn:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const a=e.children||[];ln.call(a,r=>r.dataset&&r.dataset.qVsAnchor!==void 0).forEach(r=>{delete r.dataset.qVsAnchor});const o=a[l];o?.dataset&&(o.dataset.qVsAnchor="")}))};function _t(e,l){return e+l}function tl(e,l,a,o,r,c,f,v){const g=e===window?document.scrollingElement||document.documentElement:e,C=r===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-f-v,scrollMaxSize:0,offsetStart:-f,offsetEnd:-v};if(r===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=g.scrollLeft,d.scrollViewSize+=g.clientWidth),d.scrollMaxSize=g.scrollWidth,c===!0&&(d.scrollStart=(al===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=g.scrollTop,d.scrollViewSize+=g.clientHeight),d.scrollMaxSize=g.scrollHeight),a!==null)for(let k=a.previousElementSibling;k!==null;k=k.previousElementSibling)k.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=k[C]);if(o!==null)for(let k=o.nextElementSibling;k!==null;k=k.nextElementSibling)k.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=k[C]);if(l!==e){const k=g.getBoundingClientRect(),q=l.getBoundingClientRect();r===!0?(d.offsetStart+=q.left-k.left,d.offsetEnd-=q.width):(d.offsetStart+=q.top-k.top,d.offsetEnd-=q.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function El(e,l,a,o){l==="end"&&(l=(e===window?document.body:e)[a===!0?"scrollWidth":"scrollHeight"]),e===window?a===!0?(o===!0&&(l=(al===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):a===!0?(o===!0&&(l=(al===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Mt(e,l,a,o){if(a>=o)return 0;const r=l.length,c=Math.floor(a/De),f=Math.floor((o-1)/De)+1;let v=e.slice(c,f).reduce(_t,0);return a%De!==0&&(v-=l.slice(c*De,a).reduce(_t,0)),o%De!==0&&o!==r&&(v-=l.slice(o,f*De).reduce(_t,0)),v}const nn={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},an=Object.keys(nn),rl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...nn};function on({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:a,virtualScrollItemSizeComputed:o}){const r=Ae(),{props:c,emit:f,proxy:v}=r,{$q:g}=v;let C,d,k,q=[],s;const h=L(0),x=L(0),y=L({}),I=L(null),H=L(null),B=L(null),T=L({from:0,to:0}),S=w(()=>c.tableColspan!==void 0?c.tableColspan:100);o===void 0&&(o=w(()=>c.virtualScrollItemSize));const O=w(()=>o.value+";"+c.virtualScrollHorizontal),j=w(()=>O.value+";"+c.virtualScrollSliceRatioBefore+";"+c.virtualScrollSliceRatioAfter);Z(j,()=>{ge()}),Z(O,ee);function ee(){xe(d,!0)}function te(p){xe(p===void 0?d:p)}function G(p,P){const U=l();if(U==null||U.nodeType===8)return;const X=tl(U,a(),I.value,H.value,c.virtualScrollHorizontal,g.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd);k!==X.scrollViewSize&&ge(X.scrollViewSize),ie(U,X,Math.min(e.value-1,Math.max(0,parseInt(p,10)||0)),0,ha.indexOf(P)!==-1?P:d!==-1&&p>d?"end":"start")}function me(){const p=l();if(p==null||p.nodeType===8)return;const P=tl(p,a(),I.value,H.value,c.virtualScrollHorizontal,g.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd),U=e.value-1,X=P.scrollMaxSize-P.offsetStart-P.offsetEnd-x.value;if(C===P.scrollStart)return;if(P.scrollMaxSize<=0){ie(p,P,0,0);return}k!==P.scrollViewSize&&ge(P.scrollViewSize),qe(T.value.from);const le=Math.floor(P.scrollMaxSize-Math.max(P.scrollViewSize,P.offsetEnd)-Math.min(s[U],P.scrollViewSize/2));if(le>0&&Math.ceil(P.scrollStart)>=le){ie(p,P,U,P.scrollMaxSize-P.offsetEnd-q.reduce(_t,0));return}let N=0,$=P.scrollStart-P.offsetStart,Y=$;if($<=X&&$+P.scrollViewSize>=h.value)$-=h.value,N=T.value.from,Y=$;else for(let F=0;$>=q[F]&&N<U;F++)$-=q[F],N+=De;for(;$>0&&N<U;)$-=s[N],$>-P.scrollViewSize?(N++,Y=$):Y=s[N]+$;ie(p,P,N,Y)}function ie(p,P,U,X,le){const N=typeof le=="string"&&le.indexOf("-force")!==-1,$=N===!0?le.replace("-force",""):le,Y=$!==void 0?$:"start";let F=Math.max(0,U-y.value[Y]),ae=F+y.value.total;ae>e.value&&(ae=e.value,F=Math.max(0,ae-y.value.total)),C=P.scrollStart;const pe=F!==T.value.from||ae!==T.value.to;if(pe===!1&&$===void 0){Re(U);return}const{activeElement:Ue}=document,we=B.value;pe===!0&&we!==null&&we!==Ue&&we.contains(Ue)===!0&&(we.addEventListener("focusout",He),setTimeout(()=>{we?.removeEventListener("focusout",He)})),ba(we,U-F);const Ne=$!==void 0?s.slice(F,U).reduce(_t,0):0;if(pe===!0){const Pe=ae>=T.value.from&&F<=T.value.to?T.value.to:ae;T.value={from:F,to:Pe},h.value=Mt(q,s,0,F),x.value=Mt(q,s,ae,e.value),requestAnimationFrame(()=>{T.value.to!==ae&&C===P.scrollStart&&(T.value={from:T.value.from,to:ae},x.value=Mt(q,s,ae,e.value))})}requestAnimationFrame(()=>{if(C!==P.scrollStart)return;pe===!0&&qe(F);const Pe=s.slice(F,U).reduce(_t,0),Te=Pe+P.offsetStart+h.value,Oe=Te+s[U];let Xe=Te+X;if($!==void 0){const et=Pe-Ne,Ke=P.scrollStart+et;Xe=N!==!0&&Ke<Te&&Oe<Ke+P.scrollViewSize?Ke:$==="end"?Oe-P.scrollViewSize:Te-($==="start"?0:Math.round((P.scrollViewSize-s[U])/2))}C=Xe,El(p,Xe,c.virtualScrollHorizontal,g.lang.rtl),Re(U)})}function qe(p){const P=B.value;if(P){const U=ln.call(P.children,F=>F.classList&&F.classList.contains("q-virtual-scroll--skip")===!1),X=U.length,le=c.virtualScrollHorizontal===!0?F=>F.getBoundingClientRect().width:F=>F.offsetHeight;let N=p,$,Y;for(let F=0;F<X;){for($=le(U[F]),F++;F<X&&U[F].classList.contains("q-virtual-scroll--with-prev")===!0;)$+=le(U[F]),F++;Y=$-s[N],Y!==0&&(s[N]+=Y,q[Math.floor(N/De)]+=Y),N++}}}function He(){B.value?.focus()}function xe(p,P){const U=1*o.value;(P===!0||Array.isArray(s)===!1)&&(s=[]);const X=s.length;s.length=e.value;for(let N=e.value-1;N>=X;N--)s[N]=U;const le=Math.floor((e.value-1)/De);q=[];for(let N=0;N<=le;N++){let $=0;const Y=Math.min((N+1)*De,e.value);for(let F=N*De;F<Y;F++)$+=s[F];q.push($)}d=-1,C=void 0,h.value=Mt(q,s,0,T.value.from),x.value=Mt(q,s,T.value.to,e.value),p>=0?(qe(T.value.from),Ie(()=>{G(p)})):fe()}function ge(p){if(p===void 0&&typeof window<"u"){const $=l();$!=null&&$.nodeType!==8&&(p=tl($,a(),I.value,H.value,c.virtualScrollHorizontal,g.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd).scrollViewSize)}k=p;const P=parseFloat(c.virtualScrollSliceRatioBefore)||0,U=parseFloat(c.virtualScrollSliceRatioAfter)||0,X=1+P+U,le=p===void 0||p<=0?1:Math.ceil(p/o.value),N=Math.max(1,le,Math.ceil((c.virtualScrollSliceSize>0?c.virtualScrollSliceSize:10)/X));y.value={total:Math.ceil(N*X),start:Math.ceil(N*P),center:Math.ceil(N*(.5+P)),end:Math.ceil(N*(1+P)),view:le}}function ze(p,P){const U=c.virtualScrollHorizontal===!0?"width":"height",X={["--q-virtual-scroll-item-"+U]:o.value+"px"};return[p==="tbody"?_(p,{class:"q-virtual-scroll__padding",key:"before",ref:I},[_("tr",[_("td",{style:{[U]:`${h.value}px`,...X},colspan:S.value})])]):_(p,{class:"q-virtual-scroll__padding",key:"before",ref:I,style:{[U]:`${h.value}px`,...X}}),_(p,{class:"q-virtual-scroll__content",key:"content",ref:B,tabindex:-1},P.flat()),p==="tbody"?_(p,{class:"q-virtual-scroll__padding",key:"after",ref:H},[_("tr",[_("td",{style:{[U]:`${x.value}px`,...X},colspan:S.value})])]):_(p,{class:"q-virtual-scroll__padding",key:"after",ref:H,style:{[U]:`${x.value}px`,...X}})]}function Re(p){d!==p&&(c.onVirtualScroll!==void 0&&f("virtualScroll",{index:p,from:T.value.from,to:T.value.to-1,direction:p<d?"decrease":"increase",ref:v}),d=p)}ge();const fe=Mn(me,g.platform.is.ios===!0?120:35);ul(()=>{ge()});let $e=!1;return sl(()=>{$e=!0}),cl(()=>{if($e!==!0)return;const p=l();C!==void 0&&p!==void 0&&p!==null&&p.nodeType!==8?El(p,C,c.virtualScrollHorizontal,g.lang.rtl):G(d)}),it(()=>{fe.cancel()}),Object.assign(v,{scrollTo:G,reset:ee,refresh:te}),{virtualScrollSliceRange:T,virtualScrollSliceSizeComputed:y,setVirtualScrollSize:ge,onVirtualScrollEvt:fe,localResetVirtualScroll:xe,padVirtualScroll:ze,scrollTo:G,reset:ee,refresh:te}}const Bl=e=>["add","add-unique","toggle"].includes(e),pa=".*+?^${}()|[]\\",ya=Object.keys(il);function ll(e,l){if(typeof e=="function")return e;const a=e!==void 0?e:l;return o=>o!==null&&typeof o=="object"&&a in o?o[a]:o}const gl=Me({name:"QSelect",inheritAttrs:!1,props:{...rl,...An,...il,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Bl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:rl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Ll,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:a}){const{proxy:o}=Ae(),{$q:r}=o,c=L(!1),f=L(!1),v=L(-1),g=L(""),C=L(!1),d=L(!1);let k=null,q=null,s,h,x,y=null,I,H,B,T;const S=L(null),O=L(null),j=L(null),ee=L(null),te=L(null),G=zn(e),me=On(m),ie=w(()=>Array.isArray(e.options)?e.options.length:0),qe=w(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:He,virtualScrollSliceSizeComputed:xe,localResetVirtualScroll:ge,padVirtualScroll:ze,onVirtualScrollEvt:Re,scrollTo:fe,setVirtualScrollSize:$e}=on({virtualScrollLength:ie,getVirtualScrollTarget:dt,getVirtualScrollEl:ct,virtualScrollItemSizeComputed:qe}),p=$l(),P=w(()=>{const i=e.mapOptions===!0&&e.multiple!==!0,M=e.modelValue!==void 0&&(e.modelValue!==null||i===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const A=e.mapOptions===!0&&s!==void 0?s:[],W=M.map(ne=>Rt(ne,A));return e.modelValue===null&&i===!0?W.filter(ne=>ne!==null):W}return M}),U=w(()=>{const i={};return ya.forEach(M=>{const A=e[M];A!==void 0&&(i[M]=A)}),i}),X=w(()=>e.optionsDark===null?p.isDark.value:e.optionsDark),le=w(()=>wl(P.value)),N=w(()=>{let i="q-field__input q-placeholder col";return e.hideSelected===!0||P.value.length===0?[i,e.inputClass]:(i+=" q-field__input--padding",e.inputClass===void 0?i:[i,e.inputClass])}),$=w(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),Y=w(()=>ie.value===0),F=w(()=>P.value.map(i=>ce.value(i)).join(", ")),ae=w(()=>e.displayValue!==void 0?e.displayValue:F.value),pe=w(()=>e.optionsHtml===!0?()=>!0:i=>i?.html===!0),Ue=w(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||P.value.some(pe.value))),we=w(()=>p.focused.value===!0?e.tabindex:-1),Ne=w(()=>{const i={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":c.value===!0?"true":"false","aria-controls":`${p.targetUid.value}_lb`};return v.value>=0&&(i["aria-activedescendant"]=`${p.targetUid.value}_${v.value}`),i}),Pe=w(()=>({id:`${p.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Te=w(()=>P.value.map((i,M)=>({index:M,opt:i,html:pe.value(i),selected:!0,removeAtIndex:Ft,toggleOption:Ee,tabindex:we.value}))),Oe=w(()=>{if(ie.value===0)return[];const{from:i,to:M}=He.value;return e.options.slice(i,M).map((A,W)=>{const ne=z.value(A)===!0,J=tt(A)===!0,Se=i+W,se={clickable:!0,active:J,activeClass:Ke.value,manualFocus:!0,focused:!1,disable:ne,tabindex:-1,dense:e.optionsDense,dark:X.value,role:"option","aria-selected":J===!0?"true":"false",id:`${p.targetUid.value}_${Se}`,onClick:()=>{Ee(A)}};return ne!==!0&&(v.value===Se&&(se.focused=!0),r.platform.is.desktop===!0&&(se.onMousemove=()=>{c.value===!0&&Ce(Se)})),{index:Se,opt:A,html:pe.value(A),label:ce.value(A),selected:se.active,focused:se.focused,toggleOption:Ee,setOptionIndex:Ce,itemProps:se}})}),Xe=w(()=>e.dropdownIcon!==void 0?e.dropdownIcon:r.iconSet.arrow.dropdown),et=w(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ke=w(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Ve=w(()=>ll(e.optionValue,"value")),ce=w(()=>ll(e.optionLabel,"label")),z=w(()=>ll(e.optionDisable,"disable")),Ye=w(()=>P.value.map(Ve.value)),ut=w(()=>{const i={onInput:m,onChange:me,onKeydown:Ze,onKeyup:lt,onKeypress:nt,onFocus:st,onClick(M){h===!0&&xt(M)}};return i.onCompositionstart=i.onCompositionupdate=i.onCompositionend=me,i});Z(P,i=>{s=i,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&p.innerLoading.value!==!0&&(f.value!==!0&&c.value!==!0||le.value!==!0)&&(x!==!0&&Fe(),(f.value===!0||c.value===!0)&&n(""))},{immediate:!0}),Z(()=>e.fillInput,Fe),Z(c,_e),Z(ie,wt);function bt(i){return e.emitValue===!0?Ve.value(i):i}function je(i){if(i!==-1&&i<P.value.length)if(e.multiple===!0){const M=e.modelValue.slice();a("remove",{index:i,value:M.splice(i,1)[0]}),a("update:modelValue",M)}else a("update:modelValue",null)}function Ft(i){je(i),p.focus()}function pt(i,M){const A=bt(i);if(e.multiple!==!0){e.fillInput===!0&&t(ce.value(i),!0,!0),a("update:modelValue",A);return}if(P.value.length===0){a("add",{index:0,value:A}),a("update:modelValue",e.multiple===!0?[A]:A);return}if(M===!0&&tt(i)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const W=e.modelValue.slice();a("add",{index:W.length,value:A}),W.push(A),a("update:modelValue",W)}function Ee(i,M){if(p.editable.value!==!0||i===void 0||z.value(i)===!0)return;const A=Ve.value(i);if(e.multiple!==!0){M!==!0&&(t(e.fillInput===!0?ce.value(i):"",!0,!0),ve()),O.value?.focus(),(P.value.length===0||Et(Ve.value(P.value[0]),A)!==!0)&&a("update:modelValue",e.emitValue===!0?A:i);return}if((h!==!0||C.value===!0)&&p.focus(),st(),P.value.length===0){const J=e.emitValue===!0?A:i;a("add",{index:0,value:J}),a("update:modelValue",e.multiple===!0?[J]:J);return}const W=e.modelValue.slice(),ne=Ye.value.findIndex(J=>Et(J,A));if(ne!==-1)a("remove",{index:ne,value:W.splice(ne,1)[0]});else{if(e.maxValues!==void 0&&W.length>=e.maxValues)return;const J=e.emitValue===!0?A:i;a("add",{index:W.length,value:J}),W.push(J)}a("update:modelValue",W)}function Ce(i){if(r.platform.is.desktop!==!0)return;const M=i!==-1&&i<ie.value?i:-1;v.value!==M&&(v.value=M)}function ke(i=1,M){if(c.value===!0){let A=v.value;do A=_l(A+i,-1,ie.value-1);while(A!==-1&&A!==v.value&&z.value(e.options[A])===!0);v.value!==A&&(Ce(A),fe(A),M!==!0&&e.useInput===!0&&e.fillInput===!0&&E(A>=0?ce.value(e.options[A]):I,!0))}}function Rt(i,M){const A=W=>Et(Ve.value(W),i);return e.options.find(A)||M.find(A)||i}function tt(i){const M=Ve.value(i);return Ye.value.find(A=>Et(A,M))!==void 0}function st(i){e.useInput===!0&&O.value!==null&&(i===void 0||O.value===i.target&&i.target.value===F.value)&&O.value.select()}function yt(i){Nl(i,27)===!0&&c.value===!0&&(xt(i),ve(),Fe()),a("keyup",i)}function lt(i){const{value:M}=i.target;if(i.keyCode!==void 0){yt(i);return}if(i.target.value="",k!==null&&(clearTimeout(k),k=null),q!==null&&(clearTimeout(q),q=null),Fe(),typeof M=="string"&&M.length!==0){const A=M.toLocaleLowerCase(),W=J=>{const Se=e.options.find(se=>String(J.value(se)).toLocaleLowerCase()===A);return Se===void 0?!1:(P.value.indexOf(Se)===-1?Ee(Se):ve(),!0)},ne=J=>{W(Ve)!==!0&&J!==!0&&W(ce)!==!0&&n(M,!0,()=>ne(!0))};ne()}else p.clearValue(i)}function nt(i){a("keypress",i)}function Ze(i){if(a("keydown",i),In(i)===!0)return;const M=g.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),A=i.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(v.value!==-1||M===!0);if(i.keyCode===27){zt(i);return}if(i.keyCode===9&&A===!1){ue();return}if(i.target===void 0||i.target.id!==p.targetUid.value||p.editable.value!==!0)return;if(i.keyCode===40&&p.innerLoading.value!==!0&&c.value===!1){Qe(i),Be();return}if(i.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&g.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?je(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&a("update:modelValue",null);return}(i.keyCode===35||i.keyCode===36)&&(typeof g.value!="string"||g.value.length===0)&&(Qe(i),v.value=-1,ke(i.keyCode===36?1:-1,e.multiple)),(i.keyCode===33||i.keyCode===34)&&xe.value!==void 0&&(Qe(i),v.value=Math.max(-1,Math.min(ie.value,v.value+(i.keyCode===33?-1:1)*xe.value.view)),ke(i.keyCode===33?1:-1,e.multiple)),(i.keyCode===38||i.keyCode===40)&&(Qe(i),ke(i.keyCode===38?-1:1,e.multiple));const W=ie.value;if((B===void 0||T<Date.now())&&(B=""),W>0&&e.useInput!==!0&&i.key!==void 0&&i.key.length===1&&i.altKey===!1&&i.ctrlKey===!1&&i.metaKey===!1&&(i.keyCode!==32||B.length!==0)){c.value!==!0&&Be(i);const ne=i.key.toLocaleLowerCase(),J=B.length===1&&B[0]===ne;T=Date.now()+1500,J===!1&&(Qe(i),B+=ne);const Se=new RegExp("^"+B.split("").map(Zt=>pa.indexOf(Zt)!==-1?"\\"+Zt:Zt).join(".*"),"i");let se=v.value;if(J===!0||se<0||Se.test(ce.value(e.options[se]))!==!0)do se=_l(se+1,-1,W-1);while(se!==v.value&&(z.value(e.options[se])===!0||Se.test(ce.value(e.options[se]))!==!0));v.value!==se&&Ie(()=>{Ce(se),fe(se),se>=0&&e.useInput===!0&&e.fillInput===!0&&E(ce.value(e.options[se]),!0)});return}if(!(i.keyCode!==13&&(i.keyCode!==32||e.useInput===!0||B!=="")&&(i.keyCode!==9||A===!1))){if(i.keyCode!==9&&Qe(i),v.value!==-1&&v.value<W){Ee(e.options[v.value]);return}if(M===!0){const ne=(J,Se)=>{if(Se){if(Bl(Se)!==!0)return}else Se=e.newValueMode;if(t("",e.multiple!==!0,!0),J==null)return;(Se==="toggle"?Ee:pt)(J,Se==="add-unique"),e.multiple!==!0&&(O.value?.focus(),ve())};if(e.onNewValue!==void 0?a("newValue",g.value,ne):ne(g.value),e.multiple!==!0)return}c.value===!0?ue():p.innerLoading.value!==!0&&Be()}}function ct(){return h===!0?te.value:j.value!==null&&j.value.contentEl!==null?j.value.contentEl:void 0}function dt(){return ct()}function Pt(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Te.value.map(i=>l["selected-item"](i)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Te.value.map((i,M)=>_(oa,{key:"option-"+M,removable:p.editable.value===!0&&z.value(i.opt)!==!0,dense:!0,textColor:e.color,tabindex:we.value,onRemove(){i.removeAtIndex(M)}},()=>_("span",{class:"ellipsis",[i.html===!0?"innerHTML":"textContent"]:ce.value(i.opt)}))):[_("span",{class:"ellipsis",[Ue.value===!0?"innerHTML":"textContent"]:ae.value})]}function ft(){if(Y.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:g.value}):void 0;const i=l.option!==void 0?l.option:A=>_(vl,{key:A.index,...A.itemProps},()=>_(mt,()=>_(Zn,()=>_("span",{[A.html===!0?"innerHTML":"textContent"]:A.label}))));let M=ze("div",Oe.value.map(i));return l["before-options"]!==void 0&&(M=l["before-options"]().concat(M)),Xt(l["after-options"],M)}function St(i,M){const A=M===!0?{...Ne.value,...p.splitAttrs.attributes.value}:void 0,W={ref:M===!0?O:void 0,key:"i_t",class:N.value,style:e.inputStyle,value:g.value!==void 0?g.value:"",type:"search",...A,id:M===!0?p.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":i===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ut.value};return i!==!0&&h===!0&&(Array.isArray(W.class)===!0?W.class=[...W.class,"no-pointer-events"]:W.class+=" no-pointer-events"),_("input",W)}function m(i){k!==null&&(clearTimeout(k),k=null),q!==null&&(clearTimeout(q),q=null),!(i&&i.target&&i.target.qComposing===!0)&&(E(i.target.value||""),x=!0,I=g.value,p.focused.value!==!0&&(h!==!0||C.value===!0)&&p.focus(),e.onFilter!==void 0&&(k=setTimeout(()=>{k=null,n(g.value)},e.inputDebounce)))}function E(i,M){g.value!==i&&(g.value=i,M===!0||e.inputDebounce===0||e.inputDebounce==="0"?a("inputValue",i):q=setTimeout(()=>{q=null,a("inputValue",i)},e.inputDebounce))}function t(i,M,A){x=A!==!0,e.useInput===!0&&(E(i,!0),(M===!0||A!==!0)&&(I=i),M!==!0&&n(i))}function n(i,M,A){if(e.onFilter===void 0||M!==!0&&p.focused.value!==!0)return;p.innerLoading.value===!0?a("filterAbort"):(p.innerLoading.value=!0,d.value=!0),i!==""&&e.multiple!==!0&&P.value.length!==0&&x!==!0&&i===ce.value(P.value[0])&&(i="");const W=setTimeout(()=>{c.value===!0&&(c.value=!1)},10);y!==null&&clearTimeout(y),y=W,a("filter",i,(ne,J)=>{(M===!0||p.focused.value===!0)&&y===W&&(clearTimeout(y),typeof ne=="function"&&ne(),d.value=!1,Ie(()=>{p.innerLoading.value=!1,p.editable.value===!0&&(M===!0?c.value===!0&&ve():c.value===!0?_e(!0):c.value=!0),typeof J=="function"&&Ie(()=>{J(o)}),typeof A=="function"&&Ie(()=>{A(o)})}))},()=>{p.focused.value===!0&&y===W&&(clearTimeout(y),p.innerLoading.value=!1,d.value=!1),c.value===!0&&(c.value=!1)})}function u(){return _(ga,{ref:j,class:$.value,style:e.popupContentStyle,modelValue:c.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&Y.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:X.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:et.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Pe.value,onScrollPassive:Re,onBeforeShow:We,onBeforeHide:b,onShow:V},ft)}function b(i){Ut(i),ue()}function V(){$e()}function R(i){xt(i),O.value?.focus(),C.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function D(i){xt(i),Ie(()=>{C.value=!1})}function Q(){const i=[_(na,{class:`col-auto ${p.fieldClass.value}`,...U.value,for:p.targetUid.value,dark:X.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:g.value.length!==0,...p.splitAttrs.listeners.value,onFocus:R,onBlur:D},{...l,rawControl:()=>p.getControl(!0),before:void 0,after:void 0})];return c.value===!0&&i.push(_("div",{ref:te,class:$.value+" scroll",style:e.popupContentStyle,...Pe.value,onClick:zt,onScrollPassive:Re},ft())),_($n,{ref:ee,modelValue:f.value,position:e.useInput===!0?"top":void 0,transitionShow:H,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:We,onBeforeHide:oe,onHide:ye,onShow:$t},()=>_("div",{class:"q-select__dialog"+(X.value===!0?" q-select__dialog--dark q-dark":"")+(C.value===!0?" q-select__dialog--focused":"")},i))}function oe(i){Ut(i),ee.value!==null&&ee.value.__updateRefocusTarget(p.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),p.focused.value=!1}function ye(i){ve(),p.focused.value===!1&&a("blur",i),Fe()}function $t(){const i=document.activeElement;(i===null||i.id!==p.targetUid.value)&&O.value!==null&&O.value!==i&&O.value.focus(),$e()}function ue(){f.value!==!0&&(v.value=-1,c.value===!0&&(c.value=!1),p.focused.value===!1&&(y!==null&&(clearTimeout(y),y=null),p.innerLoading.value===!0&&(a("filterAbort"),p.innerLoading.value=!1,d.value=!1)))}function Be(i){p.editable.value===!0&&(h===!0?(p.onControlFocusin(i),f.value=!0,Ie(()=>{p.focus()})):p.focus(),e.onFilter!==void 0?n(g.value):(Y.value!==!0||l["no-option"]!==void 0)&&(c.value=!0))}function ve(){f.value=!1,ue()}function Fe(){e.useInput===!0&&t(e.multiple!==!0&&e.fillInput===!0&&P.value.length!==0&&ce.value(P.value[0])||"",!0,!0)}function _e(i){let M=-1;if(i===!0){if(P.value.length!==0){const A=Ve.value(P.value[0]);M=e.options.findIndex(W=>Et(Ve.value(W),A))}ge(M)}Ce(M)}function wt(i,M){c.value===!0&&p.innerLoading.value===!1&&(ge(-1,!0),Ie(()=>{c.value===!0&&p.innerLoading.value===!1&&(i>M?ge():_e(!0))}))}function Ct(){f.value===!1&&j.value!==null&&j.value.updatePosition()}function We(i){i!==void 0&&xt(i),a("popupShow",i),p.hasPopupOpen=!0,p.onControlFocusin(i)}function Ut(i){i!==void 0&&xt(i),a("popupHide",i),p.hasPopupOpen=!1,p.onControlFocusout(i)}function bl(){h=r.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||Y.value===!1:!0),H=r.platform.is.ios===!0&&h===!0&&e.useInput===!0?"fade":e.transitionShow}return Ln(bl),Hn(Ct),bl(),it(()=>{k!==null&&clearTimeout(k),q!==null&&clearTimeout(q)}),Object.assign(o,{showPopup:Be,hidePopup:ve,removeAtIndex:je,add:pt,toggleOption:Ee,getOptionIndex:()=>v.value,setOptionIndex:Ce,moveOptionSelection:ke,filter:n,updateMenuPosition:Ct,updateInputValue:t,isOptionSelected:tt,getEmittingOptionValue:bt,isOptionDisabled:(...i)=>z.value.apply(null,i)===!0,getOptionValue:(...i)=>Ve.value.apply(null,i),getOptionLabel:(...i)=>ce.value.apply(null,i)}),Object.assign(p,{innerValue:P,fieldClass:w(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:S,targetRef:O,hasValue:le,showPopup:Be,floatingLabel:w(()=>e.hideSelected!==!0&&le.value===!0||typeof g.value=="number"||g.value.length!==0||wl(e.displayValue)),getControlChild:()=>{if(p.editable.value!==!1&&(f.value===!0||Y.value!==!0||l["no-option"]!==void 0))return h===!0?Q():u();p.hasPopupOpen===!0&&(p.hasPopupOpen=!1)},controlEvents:{onFocusin(i){p.onControlFocusin(i)},onFocusout(i){p.onControlFocusout(i,()=>{Fe(),ue()})},onClick(i){if(zt(i),h!==!0&&c.value===!0){ue(),O.value?.focus();return}Be(i)}},getControl:i=>{const M=Pt(),A=i===!0||f.value!==!0||h!==!0;if(e.useInput===!0)M.push(St(i,A));else if(p.editable.value===!0){const ne=A===!0?Ne.value:void 0;M.push(_("input",{ref:A===!0?O:void 0,key:"d_t",class:"q-select__focus-target",id:A===!0?p.targetUid.value:void 0,value:ae.value,readonly:!0,"data-autofocus":i===!0||e.autofocus===!0||void 0,...ne,onKeydown:Ze,onKeyup:yt,onKeypress:nt})),A===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&M.push(_("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:lt}))}if(G.value!==void 0&&e.disable!==!0&&Ye.value.length!==0){const ne=Ye.value.map(J=>_("option",{value:J,selected:!0}));M.push(_("select",{class:"hidden",name:G.value,multiple:e.multiple},ne))}const W=e.useInput===!0||A!==!0?void 0:p.splitAttrs.attributes.value;return _("div",{class:"q-field__native row items-center",...W,...p.splitAttrs.listeners.value},M)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[_(Ge,{class:"q-select__dropdown-icon"+(c.value===!0?" rotate-180":""),name:Xe.value})]:null}),Hl(p)}}),Ml=Me({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const a=Ae(),o=w(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return _("td",{class:o.value},rt(l.default));const r=a.vnode.key,c=(e.props.colsMap!==void 0?e.props.colsMap[r]:null)||e.props.col;if(c===void 0)return;const{row:f}=e.props;return _("td",{class:o.value+c.__tdClass(f),style:c.__tdStyle(f)},rt(l.default))}}}),Sa=Me({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:l}){const a=w(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>_("tr",{style:e.props?.__trStyle,class:a.value},rt(l.default))}}),wa=Me({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:a}){const o=Ae(),{proxy:{$q:r}}=o,c=f=>{a("click",f)};return()=>{if(e.props===void 0)return _("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:c},rt(l.default));let f,v;const g=o.vnode.key;if(g){if(f=e.props.colsMap[g],f===void 0)return}else f=e.props.col;if(f.sortable===!0){const d=f.align==="right"?"unshift":"push";v=Un(l.default,[]),v[d](_(Ge,{class:f.__iconClass,name:r.iconSet.table.arrowUp}))}else v=rt(l.default);const C={class:f.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:f.headerStyle,onClick:d=>{f.sortable===!0&&e.props.sort(f),c(d)}};return _("th",C,v)}}}),Ca=["horizontal","vertical","cell","none"],xa=Me({name:"QMarkupTable",props:{...Lt,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Ca.includes(e)}},setup(e,{slots:l}){const a=Ae(),o=Ht(e,a.proxy.$q),r=w(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(o.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>_("div",{class:r.value},[_("table",{class:"q-table"},rt(l.default))])}});function rn(e,l){return _("div",e,[_("table",{class:"q-table"},l)])}const ka={list:ml,table:xa},_a=["list","table","__qtable"],qa=Me({name:"QVirtualScroll",props:{...rl,type:{type:String,default:"list",validator:e=>_a.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Kl},setup(e,{slots:l,attrs:a}){let o;const r=L(null),c=w(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:f,localResetVirtualScroll:v,padVirtualScroll:g,onVirtualScrollEvt:C}=on({virtualScrollLength:c,getVirtualScrollTarget:h,getVirtualScrollEl:s}),d=w(()=>{if(c.value===0)return[];const H=(B,T)=>({index:f.value.from+T,item:B});return e.itemsFn===void 0?e.items.slice(f.value.from,f.value.to).map(H):e.itemsFn(f.value.from,f.value.to-f.value.from).map(H)}),k=w(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),q=w(()=>e.scrollTarget!==void 0?{}:{tabindex:0});Z(c,()=>{v()}),Z(()=>e.scrollTarget,()=>{y(),x()});function s(){return r.value.$el||r.value}function h(){return o}function x(){o=jl(s(),e.scrollTarget),o.addEventListener("scroll",C,Ot.passive)}function y(){o!==void 0&&(o.removeEventListener("scroll",C,Ot.passive),o=void 0)}function I(){let H=g(e.type==="list"?"div":"tbody",d.value.map(l.default));return l.before!==void 0&&(H=l.before().concat(H)),Xt(l.after,H)}return ul(()=>{v()}),Gt(()=>{x()}),cl(()=>{x()}),sl(()=>{y()}),it(()=>{y()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?rn({ref:r,class:"q-table__middle "+k.value},I()):_(ka[e.type],{...a,ref:r,class:[a.class,k.value],...q.value},I)}}}),Ta={xs:2,sm:4,md:6,lg:10,xl:14};function Al(e,l,a){return{transform:l===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const Va=Me({name:"QLinearProgress",props:{...Lt,...Ul,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:a}=Ae(),o=Ht(e,a.$q),r=Dl(e,Ta),c=w(()=>e.indeterminate===!0||e.query===!0),f=w(()=>e.reverse!==e.query),v=w(()=>({...r.value!==null?r.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),g=w(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),C=w(()=>Al(e.buffer!==void 0?e.buffer:1,f.value,a.$q)),d=w(()=>`with${e.instantFeedback===!0?"out":""}-transition`),k=w(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${d.value} q-linear-progress__track--${o.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),q=w(()=>Al(c.value===!0?1:e.value,f.value,a.$q)),s=w(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${d.value} q-linear-progress__model--${c.value===!0?"in":""}determinate`),h=w(()=>({width:`${e.value*100}%`})),x=w(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${d.value}`);return()=>{const y=[_("div",{class:k.value,style:C.value}),_("div",{class:s.value,style:q.value})];return e.stripe===!0&&c.value===!1&&y.push(_("div",{class:x.value,style:h.value})),_("div",{class:g.value,style:v.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Xt(l.default,y))}}});let At=0;const Fa={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Ra=["update:fullscreen","fullscreen"];function Pa(){const e=Ae(),{props:l,emit:a,proxy:o}=e;let r,c,f;const v=L(!1);Dn(e)===!0&&Z(()=>o.$route.fullPath,()=>{l.noRouteFullscreenExit!==!0&&d()}),Z(()=>l.fullscreen,k=>{v.value!==k&&g()}),Z(v,k=>{a("update:fullscreen",k),a("fullscreen",k)});function g(){v.value===!0?d():C()}function C(){v.value!==!0&&(v.value=!0,f=o.$el.parentNode,f.replaceChild(c,o.$el),document.body.appendChild(o.$el),At++,At===1&&document.body.classList.add("q-body--fullscreen-mixin"),r={handler:d},Cl.add(r))}function d(){v.value===!0&&(r!==void 0&&(Cl.remove(r),r=void 0),f.replaceChild(o.$el,c),v.value=!1,At=Math.max(0,At-1),At===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),o.$el.scrollIntoView!==void 0&&setTimeout(()=>{o.$el.scrollIntoView()})))}return ul(()=>{c=document.createElement("span")}),Gt(()=>{l.fullscreen===!0&&C()}),it(d),Object.assign(o,{toggleFullscreen:g,setFullscreen:C,exitFullscreen:d}),{inFullscreen:v,toggleFullscreen:g}}function Ea(e,l){return new Date(e)-new Date(l)}const Ba={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Ma(e,l,a,o){const r=w(()=>{const{sortBy:v}=l.value;return v&&a.value.find(g=>g.name===v)||null}),c=w(()=>e.sortMethod!==void 0?e.sortMethod:(v,g,C)=>{const d=a.value.find(s=>s.name===g);if(d===void 0||d.field===void 0)return v;const k=C===!0?-1:1,q=typeof d.field=="function"?s=>d.field(s):s=>s[d.field];return v.sort((s,h)=>{let x=q(s),y=q(h);return d.rawSort!==void 0?d.rawSort(x,y,s,h)*k:x==null?-1*k:y==null?1*k:d.sort!==void 0?d.sort(x,y,s,h)*k:nl(x)===!0&&nl(y)===!0?(x-y)*k:xl(x)===!0&&xl(y)===!0?Ea(x,y)*k:typeof x=="boolean"&&typeof y=="boolean"?(x-y)*k:([x,y]=[x,y].map(I=>(I+"").toLocaleString().toLowerCase()),x<y?-1*k:x===y?0:k)})});function f(v){let g=e.columnSortOrder;if(Nn(v)===!0)v.sortOrder&&(g=v.sortOrder),v=v.name;else{const k=a.value.find(q=>q.name===v);k?.sortOrder&&(g=k.sortOrder)}let{sortBy:C,descending:d}=l.value;C!==v?(C=v,d=g==="da"):e.binaryStateSort===!0?d=!d:d===!0?g==="ad"?C=null:d=!1:g==="ad"?d=!0:C=null,o({sortBy:C,descending:d,page:1})}return{columnToSort:r,computedSortMethod:c,sort:f}}const Aa={filter:[String,Object],filterMethod:Function};function za(e,l){const a=w(()=>e.filterMethod!==void 0?e.filterMethod:(o,r,c,f)=>{const v=r?r.toLowerCase():"";return o.filter(g=>c.some(C=>{const d=f(C,g)+"";return(d==="undefined"||d==="null"?"":d.toLowerCase()).indexOf(v)!==-1}))});return Z(()=>e.filter,()=>{Ie(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:a}}function Oa(e,l){for(const a in l)if(l[a]!==e[a])return!1;return!0}function zl(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Ia={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function La(e,l){const{props:a,emit:o}=e,r=L(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:a.rowsPerPageOptions.length!==0?a.rowsPerPageOptions[0]:5},a.pagination)),c=w(()=>{const d=a["onUpdate:pagination"]!==void 0?{...r.value,...a.pagination}:r.value;return zl(d)}),f=w(()=>c.value.rowsNumber!==void 0);function v(d){g({pagination:d,filter:a.filter})}function g(d={}){Ie(()=>{o("request",{pagination:d.pagination||c.value,filter:d.filter||a.filter,getCellValue:l})})}function C(d,k){const q=zl({...c.value,...d});if(Oa(c.value,q)===!0){f.value===!0&&k===!0&&v(q);return}if(f.value===!0){v(q);return}a.pagination!==void 0&&a["onUpdate:pagination"]!==void 0?o("update:pagination",q):r.value=q}return{innerPagination:r,computedPagination:c,isServerSide:f,requestServerInteraction:g,setPagination:C}}function Ha(e,l,a,o,r,c){const{props:f,emit:v,proxy:{$q:g}}=e,C=w(()=>o.value===!0?a.value.rowsNumber||0:c.value),d=w(()=>{const{page:T,rowsPerPage:S}=a.value;return(T-1)*S}),k=w(()=>{const{page:T,rowsPerPage:S}=a.value;return T*S}),q=w(()=>a.value.page===1),s=w(()=>a.value.rowsPerPage===0?1:Math.max(1,Math.ceil(C.value/a.value.rowsPerPage))),h=w(()=>k.value===0?!0:a.value.page>=s.value),x=w(()=>(f.rowsPerPageOptions.includes(l.value.rowsPerPage)?f.rowsPerPageOptions:[l.value.rowsPerPage].concat(f.rowsPerPageOptions)).map(S=>({label:S===0?g.lang.table.allRows:""+S,value:S})));Z(s,(T,S)=>{if(T===S)return;const O=a.value.page;T&&!O?r({page:1}):T<O&&r({page:T})});function y(){r({page:1})}function I(){const{page:T}=a.value;T>1&&r({page:T-1})}function H(){const{page:T,rowsPerPage:S}=a.value;k.value>0&&T*S<C.value&&r({page:T+1})}function B(){r({page:s.value})}return f["onUpdate:pagination"]!==void 0&&v("update:pagination",{...a.value}),{firstRowIndex:d,lastRowIndex:k,isFirstPage:q,isLastPage:h,pagesNumber:s,computedRowsPerPageOptions:x,computedRowsNumber:C,firstPage:y,prevPage:I,nextPage:H,lastPage:B}}const $a={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Ua=["update:selected","selection"];function Da(e,l,a,o){const r=w(()=>{const h={};return e.selected.map(o.value).forEach(x=>{h[x]=!0}),h}),c=w(()=>e.selection!=="none"),f=w(()=>e.selection==="single"),v=w(()=>e.selection==="multiple"),g=w(()=>a.value.length!==0&&a.value.every(h=>r.value[o.value(h)]===!0)),C=w(()=>g.value!==!0&&a.value.some(h=>r.value[o.value(h)]===!0)),d=w(()=>e.selected.length);function k(h){return r.value[h]===!0}function q(){l("update:selected",[])}function s(h,x,y,I){l("selection",{rows:x,added:y,keys:h,evt:I});const H=f.value===!0?y===!0?x:[]:y===!0?e.selected.concat(x):e.selected.filter(B=>h.includes(o.value(B))===!1);l("update:selected",H)}return{hasSelectionMode:c,singleSelection:f,multipleSelection:v,allRowsSelected:g,someRowsSelected:C,rowsSelectedNumber:d,isRowSelected:k,clearSelection:q,updateSelection:s}}function Ol(e){return Array.isArray(e)?e.slice():[]}const Na={expanded:Array},Ka=["update:expanded"];function ja(e,l){const a=L(Ol(e.expanded));Z(()=>e.expanded,f=>{a.value=Ol(f)});function o(f){return a.value.includes(f)}function r(f){e.expanded!==void 0?l("update:expanded",f):a.value=f}function c(f,v){const g=a.value.slice(),C=g.indexOf(f);v===!0?C===-1&&(g.push(f),r(g)):C!==-1&&(g.splice(C,1),r(g))}return{isRowExpanded:o,setExpanded:r,updateExpanded:c}}const Wa={visibleColumns:Array};function Qa(e,l,a){const o=w(()=>{if(e.columns!==void 0)return e.columns;const v=e.rows[0];return v!==void 0?Object.keys(v).map(g=>({name:g,label:g.toUpperCase(),field:g,align:nl(v[g])?"right":"left",sortable:!0})):[]}),r=w(()=>{const{sortBy:v,descending:g}=l.value;return(e.visibleColumns!==void 0?o.value.filter(d=>d.required===!0||e.visibleColumns.includes(d.name)===!0):o.value).map(d=>{const k=d.align||"right",q=`text-${k}`;return{...d,align:k,__iconClass:`q-table__sort-icon q-table__sort-icon--${k}`,__thClass:q+(d.headerClasses!==void 0?" "+d.headerClasses:"")+(d.sortable===!0?" sortable":"")+(d.name===v?` sorted ${g===!0?"sort-desc":""}`:""),__tdStyle:d.style!==void 0?typeof d.style!="function"?()=>d.style:d.style:()=>null,__tdClass:d.classes!==void 0?typeof d.classes!="function"?()=>q+" "+d.classes:s=>q+" "+d.classes(s):()=>q}})}),c=w(()=>{const v={};return r.value.forEach(g=>{v[g.name]=g}),v}),f=w(()=>e.tableColspan!==void 0?e.tableColspan:r.value.length+(a.value===!0?1:0));return{colList:o,computedCols:r,computedColsMap:c,computedColspan:f}}const Dt="q-table__bottom row items-center",un={};an.forEach(e=>{un[e]={}});const Ga=Me({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...un,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Lt,...Fa,...Wa,...Aa,...Ia,...Na,...$a,...Ba},emits:["request","virtualScroll",...Ra,...Ka,...Ua],setup(e,{slots:l,emit:a}){const o=Ae(),{proxy:{$q:r}}=o,c=Ht(e,r),{inFullscreen:f,toggleFullscreen:v}=Pa(),g=w(()=>typeof e.rowKey=="function"?e.rowKey:m=>m[e.rowKey]),C=L(null),d=L(null),k=w(()=>e.grid!==!0&&e.virtualScroll===!0),q=w(()=>" q-table__card"+(c.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),s=w(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":q.value)+(c.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(f.value===!0?" fullscreen scroll":"")),h=w(()=>s.value+(e.loading===!0?" q-table--loading":""));Z(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+s.value,()=>{k.value===!0&&d.value?.reset()});const{innerPagination:x,computedPagination:y,isServerSide:I,requestServerInteraction:H,setPagination:B}=La(o,Ce),{computedFilterMethod:T}=za(e,B),{isRowExpanded:S,setExpanded:O,updateExpanded:j}=ja(e,a),ee=w(()=>{let m=e.rows;if(I.value===!0||m.length===0)return m;const{sortBy:E,descending:t}=y.value;return e.filter&&(m=T.value(m,e.filter,p.value,Ce)),X.value!==null&&(m=le.value(e.rows===m?m.slice():m,E,t)),m}),te=w(()=>ee.value.length),G=w(()=>{let m=ee.value;if(I.value===!0)return m;const{rowsPerPage:E}=y.value;return E!==0&&($.value===0&&e.rows!==m?m.length>Y.value&&(m=m.slice(0,Y.value)):m=m.slice($.value,Y.value)),m}),{hasSelectionMode:me,singleSelection:ie,multipleSelection:qe,allRowsSelected:He,someRowsSelected:xe,rowsSelectedNumber:ge,isRowSelected:ze,clearSelection:Re,updateSelection:fe}=Da(e,a,G,g),{colList:$e,computedCols:p,computedColsMap:P,computedColspan:U}=Qa(e,y,me),{columnToSort:X,computedSortMethod:le,sort:N}=Ma(e,y,$e,B),{firstRowIndex:$,lastRowIndex:Y,isFirstPage:F,isLastPage:ae,pagesNumber:pe,computedRowsPerPageOptions:Ue,computedRowsNumber:we,firstPage:Ne,prevPage:Pe,nextPage:Te,lastPage:Oe}=Ha(o,x,y,I,B,te),Xe=w(()=>G.value.length===0),et=w(()=>{const m={};return an.forEach(E=>{m[E]=e[E]}),m.virtualScrollItemSize===void 0&&(m.virtualScrollItemSize=e.dense===!0?28:48),m});function Ke(){k.value===!0&&d.value.reset()}function Ve(){if(e.grid===!0)return St();const m=e.hideHeader!==!0?st:null;if(k.value===!0){const t=l["top-row"],n=l["bottom-row"],u={default:b=>ut(b.item,l.body,b.index)};if(t!==void 0){const b=_("tbody",t({cols:p.value}));u.before=m===null?()=>b:()=>[m()].concat(b)}else m!==null&&(u.before=m);return n!==void 0&&(u.after=()=>_("tbody",n({cols:p.value}))),_(qa,{ref:d,class:e.tableClass,style:e.tableStyle,...et.value,scrollTarget:e.virtualScrollTarget,items:G.value,type:"__qtable",tableColspan:U.value,onVirtualScroll:z},u)}const E=[bt()];return m!==null&&E.unshift(m()),rn({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},E)}function ce(m,E){if(d.value!==null){d.value.scrollTo(m,E);return}m=parseInt(m,10);const t=C.value.querySelector(`tbody tr:nth-of-type(${m+1})`);if(t!==null){const n=C.value.querySelector(".q-table__middle.scroll"),u=t.offsetTop-e.virtualScrollStickySizeStart,b=u<n.scrollTop?"decrease":"increase";n.scrollTop=u,a("virtualScroll",{index:m,from:0,to:x.value.rowsPerPage-1,direction:b})}}function z(m){a("virtualScroll",m)}function Ye(){return[_(Va,{class:"q-table__linear-progress",color:e.color,dark:c.value,indeterminate:!0,trackColor:"transparent"})]}function ut(m,E,t){const n=g.value(m),u=ze(n);if(E!==void 0){const D={key:n,row:m,pageIndex:t,__trClass:u?"selected":""};if(e.tableRowStyleFn!==void 0&&(D.__trStyle=e.tableRowStyleFn(m)),e.tableRowClassFn!==void 0){const Q=e.tableRowClassFn(m);Q&&(D.__trClass=`${Q} ${D.__trClass}`)}return E(je(D))}const b=l["body-cell"],V=p.value.map(D=>{const Q=l[`body-cell-${D.name}`],oe=Q!==void 0?Q:b;return oe!==void 0?oe(Ft({key:n,row:m,pageIndex:t,col:D})):_("td",{class:D.__tdClass(m),style:D.__tdStyle(m)},Ce(D,m))});if(me.value===!0){const D=l["body-selection"],Q=D!==void 0?D(pt({key:n,row:m,pageIndex:t})):[_(Nt,{modelValue:u,color:e.color,dark:c.value,dense:e.dense,"onUpdate:modelValue":(oe,ye)=>{fe([n],[m],oe,ye)}})];V.unshift(_("td",{class:"q-table--col-auto-width"},Q))}const R={key:n,class:{selected:u}};if(e.onRowClick!==void 0&&(R.class["cursor-pointer"]=!0,R.onClick=D=>{a("rowClick",D,m,t)}),e.onRowDblclick!==void 0&&(R.class["cursor-pointer"]=!0,R.onDblclick=D=>{a("rowDblclick",D,m,t)}),e.onRowContextmenu!==void 0&&(R.class["cursor-pointer"]=!0,R.onContextmenu=D=>{a("rowContextmenu",D,m,t)}),e.tableRowStyleFn!==void 0&&(R.style=e.tableRowStyleFn(m)),e.tableRowClassFn!==void 0){const D=e.tableRowClassFn(m);D&&(R.class[D]=!0)}return _("tr",R,V)}function bt(){const m=l.body,E=l["top-row"],t=l["bottom-row"];let n=G.value.map((u,b)=>ut(u,m,b));return E!==void 0&&(n=E({cols:p.value}).concat(n)),t!==void 0&&(n=n.concat(t({cols:p.value}))),_("tbody",n)}function je(m){return Ee(m),m.cols=m.cols.map(E=>Bt({...E},"value",()=>Ce(E,m.row))),m}function Ft(m){return Ee(m),Bt(m,"value",()=>Ce(m.col,m.row)),m}function pt(m){return Ee(m),m}function Ee(m){Object.assign(m,{cols:p.value,colsMap:P.value,sort:N,rowIndex:$.value+m.pageIndex,color:e.color,dark:c.value,dense:e.dense}),me.value===!0&&Bt(m,"selected",()=>ze(m.key),(E,t)=>{fe([m.key],[m.row],E,t)}),Bt(m,"expand",()=>S(m.key),E=>{j(m.key,E)})}function Ce(m,E){const t=typeof m.field=="function"?m.field(E):E[m.field];return m.format!==void 0?m.format(t,E):t}const ke=w(()=>({pagination:y.value,pagesNumber:pe.value,isFirstPage:F.value,isLastPage:ae.value,firstPage:Ne,prevPage:Pe,nextPage:Te,lastPage:Oe,inFullscreen:f.value,toggleFullscreen:v}));function Rt(){const m=l.top,E=l["top-left"],t=l["top-right"],n=l["top-selection"],u=me.value===!0&&n!==void 0&&ge.value>0,b="q-table__top relative-position row items-center";if(m!==void 0)return _("div",{class:b},[m(ke.value)]);let V;if(u===!0?V=n(ke.value).slice():(V=[],E!==void 0?V.push(_("div",{class:"q-table__control"},[E(ke.value)])):e.title&&V.push(_("div",{class:"q-table__control"},[_("div",{class:["q-table__title",e.titleClass]},e.title)]))),t!==void 0&&(V.push(_("div",{class:"q-table__separator col"})),V.push(_("div",{class:"q-table__control"},[t(ke.value)]))),V.length!==0)return _("div",{class:b},V)}const tt=w(()=>xe.value===!0?null:He.value);function st(){const m=yt();return e.loading===!0&&l.loading===void 0&&m.push(_("tr",{class:"q-table__progress"},[_("th",{class:"relative-position",colspan:U.value},Ye())])),_("thead",m)}function yt(){const m=l.header,E=l["header-cell"];if(m!==void 0)return m(lt({header:!0})).slice();const t=p.value.map(n=>{const u=l[`header-cell-${n.name}`],b=u!==void 0?u:E,V=lt({col:n});return b!==void 0?b(V):_(wa,{key:n.name,props:V},()=>n.label)});if(ie.value===!0&&e.grid!==!0)t.unshift(_("th",{class:"q-table--col-auto-width"}," "));else if(qe.value===!0){const n=l["header-selection"],u=n!==void 0?n(lt({})):[_(Nt,{color:e.color,modelValue:tt.value,dark:c.value,dense:e.dense,"onUpdate:modelValue":nt})];t.unshift(_("th",{class:"q-table--col-auto-width"},u))}return[_("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},t)]}function lt(m){return Object.assign(m,{cols:p.value,sort:N,colsMap:P.value,color:e.color,dark:c.value,dense:e.dense}),qe.value===!0&&Bt(m,"selected",()=>tt.value,nt),m}function nt(m){xe.value===!0&&(m=!1),fe(G.value.map(g.value),G.value,m)}const Ze=w(()=>{const m=[e.iconFirstPage||r.iconSet.table.firstPage,e.iconPrevPage||r.iconSet.table.prevPage,e.iconNextPage||r.iconSet.table.nextPage,e.iconLastPage||r.iconSet.table.lastPage];return r.lang.rtl===!0?m.reverse():m});function ct(){if(e.hideBottom===!0)return;if(Xe.value===!0){if(e.hideNoData===!0)return;const t=e.loading===!0?e.loadingLabel||r.lang.table.loading:e.filter?e.noResultsLabel||r.lang.table.noResults:e.noDataLabel||r.lang.table.noData,n=l["no-data"],u=n!==void 0?[n({message:t,icon:r.iconSet.table.warning,filter:e.filter})]:[_(Ge,{class:"q-table__bottom-nodata-icon",name:r.iconSet.table.warning}),t];return _("div",{class:Dt+" q-table__bottom--nodata"},u)}const m=l.bottom;if(m!==void 0)return _("div",{class:Dt},[m(ke.value)]);const E=e.hideSelectedBanner!==!0&&me.value===!0&&ge.value>0?[_("div",{class:"q-table__control"},[_("div",[(e.selectedRowsLabel||r.lang.table.selectedRecords)(ge.value)])])]:[];if(e.hidePagination!==!0)return _("div",{class:Dt+" justify-end"},Pt(E));if(E.length!==0)return _("div",{class:Dt},E)}function dt(m){B({page:1,rowsPerPage:m.value})}function Pt(m){let E;const{rowsPerPage:t}=y.value,n=e.paginationLabel||r.lang.table.pagination,u=l.pagination,b=e.rowsPerPageOptions.length>1;if(m.push(_("div",{class:"q-table__separator col"})),b===!0&&m.push(_("div",{class:"q-table__control"},[_("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||r.lang.table.recordsPerPage]),_(gl,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:t,options:Ue.value,displayValue:t===0?r.lang.table.allRows:t,dark:c.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":dt})])),u!==void 0)E=u(ke.value);else if(E=[_("span",t!==0?{class:"q-table__bottom-item"}:{},[t?n($.value+1,Math.min(Y.value,we.value),we.value):n(1,te.value,we.value)])],t!==0&&pe.value>1){const V={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(V.size="sm"),pe.value>2&&E.push(_(at,{key:"pgFirst",...V,icon:Ze.value[0],disable:F.value,ariaLabel:r.lang.pagination.first,onClick:Ne})),E.push(_(at,{key:"pgPrev",...V,icon:Ze.value[1],disable:F.value,ariaLabel:r.lang.pagination.prev,onClick:Pe}),_(at,{key:"pgNext",...V,icon:Ze.value[2],disable:ae.value,ariaLabel:r.lang.pagination.next,onClick:Te})),pe.value>2&&E.push(_(at,{key:"pgLast",...V,icon:Ze.value[3],disable:ae.value,ariaLabel:r.lang.pagination.last,onClick:Oe}))}return m.push(_("div",{class:"q-table__control"},E)),m}function ft(){const m=e.gridHeader===!0?[_("table",{class:"q-table"},[st()])]:e.loading===!0&&l.loading===void 0?Ye():void 0;return _("div",{class:"q-table__middle"},m)}function St(){const m=l.item!==void 0?l.item:E=>{const t=E.cols.map(u=>_("div",{class:"q-table__grid-item-row"},[_("div",{class:"q-table__grid-item-title"},[u.label]),_("div",{class:"q-table__grid-item-value"},[u.value])]));if(me.value===!0){const u=l["body-selection"],b=u!==void 0?u(E):[_(Nt,{modelValue:E.selected,color:e.color,dark:c.value,dense:e.dense,"onUpdate:modelValue":(V,R)=>{fe([E.key],[E.row],V,R)}})];t.unshift(_("div",{class:"q-table__grid-item-row"},b),_(ht,{dark:c.value}))}const n={class:["q-table__grid-item-card"+q.value,e.cardClass],style:e.cardStyle};if(e.cardStyleFn!==void 0&&(n.style=[n.style,e.cardStyleFn(E.row)]),e.cardClassFn!==void 0){const u=e.cardClassFn(E.row);u&&(n.class[0]+=` ${u}`)}return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(n.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(n.onClick=u=>{a("RowClick",u,E.row,E.pageIndex)}),e.onRowDblclick!==void 0&&(n.onDblclick=u=>{a("RowDblclick",u,E.row,E.pageIndex)}),e.onRowContextmenu!==void 0&&(n.onContextmenu=u=>{a("rowContextmenu",u,E.row,E.pageIndex)})),_("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(E.selected===!0?" q-table__grid-item--selected":"")},[_("div",n,t)])};return _("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},G.value.map((E,t)=>m(je({key:g.value(E),row:E,pageIndex:t}))))}return Object.assign(o.proxy,{requestServerInteraction:H,setPagination:B,firstPage:Ne,prevPage:Pe,nextPage:Te,lastPage:Oe,isRowSelected:ze,clearSelection:Re,isRowExpanded:S,setExpanded:O,sort:N,resetVirtualScroll:Ke,scrollTo:ce,getCellValue:Ce}),Kn(o.proxy,{filteredSortedRows:()=>ee.value,computedRows:()=>G.value,computedRowsNumber:()=>we.value}),()=>{const m=[Rt()],E={ref:C,class:h.value};return e.grid===!0?m.push(ft()):Object.assign(E,{class:[E.class,e.cardClass],style:e.cardStyle}),m.push(Ve(),ct()),e.loading===!0&&l.loading!==void 0&&m.push(l.loading()),_("div",E,m)}}}),Xa=Me({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:l,emit:a}){const{proxy:{$q:o}}=Ae(),r=Ql(jn,Jt);if(r===Jt)return console.error("QFooter needs to be child of QLayout"),Jt;const c=L(parseInt(e.heightHint,10)),f=L(!0),v=L(Wn.value===!0||r.isContainer.value===!0?0:window.innerHeight),g=w(()=>e.reveal===!0||r.view.value.indexOf("F")!==-1||o.platform.is.ios&&r.isContainer.value===!0),C=w(()=>r.isContainer.value===!0?r.containerHeight.value:v.value),d=w(()=>{if(e.modelValue!==!0)return 0;if(g.value===!0)return f.value===!0?c.value:0;const S=r.scroll.value.position+C.value+c.value-r.height.value;return S>0?S:0}),k=w(()=>e.modelValue!==!0||g.value===!0&&f.value!==!0),q=w(()=>e.modelValue===!0&&k.value===!0&&e.reveal===!0),s=w(()=>"q-footer q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(k.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(g.value!==!0?" hidden":""):"")),h=w(()=>{const S=r.rows.value.bottom,O={};return S[0]==="l"&&r.left.space===!0&&(O[o.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),S[2]==="r"&&r.right.space===!0&&(O[o.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),O});function x(S,O){r.update("footer",S,O)}function y(S,O){S.value!==O&&(S.value=O)}function I({height:S}){y(c,S),x("size",S)}function H(){if(e.reveal!==!0)return;const{direction:S,position:O,inflectionPoint:j}=r.scroll.value;y(f,S==="up"||O-j<100||r.height.value-C.value-O-c.value<300)}function B(S){q.value===!0&&y(f,!0),a("focusin",S)}Z(()=>e.modelValue,S=>{x("space",S),y(f,!0),r.animate()}),Z(d,S=>{x("offset",S)}),Z(()=>e.reveal,S=>{S===!1&&y(f,e.modelValue)}),Z(f,S=>{r.animate(),a("reveal",S)}),Z([c,r.scroll,r.height],H),Z(()=>o.screen.height,S=>{r.isContainer.value!==!0&&y(v,S)});const T={};return r.instances.footer=T,e.modelValue===!0&&x("size",c.value),x("space",e.modelValue),x("offset",d.value),it(()=>{r.instances.footer===T&&(r.instances.footer=void 0,x("size",0),x("offset",0),x("space",!1))}),()=>{const S=Xt(l.default,[_(ea,{debounce:0,onResize:I})]);return e.elevated===!0&&S.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),_("footer",{class:s.value,style:h.value,onFocusin:B},S)}}});var Kt={exports:{}},Ya=Kt.exports,Il;function Za(){return Il||(Il=1,function(e,l){(function(a,o){e.exports=o()})(Ya,function(){function a(t){return typeof t=="string"||t instanceof String}var o=Number.isFinite||window.isFinite;function r(t){return o(t)}function c(t){return t}function f(t){var n={};return t.filter(function(u){return n.hasOwnProperty(u)?!1:n[u]=!0})}function v(t,n){if(n.length!==t.length)return!1;for(var u=0;u<t.length;u++)if(n[u].compareArray&&!n[u].compareArray(t[u])||n[u]!==t[u])return!1;return!0}function g(t,n){Object.keys(n).forEach(function(u){t[u]=n[u]})}function C(){for(var t=1,n=0,u=0;u<arguments.length;u++){var b=arguments[u];n=n+q(b),t*=b}return n!==0?k(t,n):t}function d(t,n){if(n===0)throw new Error("Divide by zero");var u=Math.pow(10,q(n)),b=u/(u*n);return C(t,b)}function k(t,n){return Math.round(t*Math.pow(10,n))/Math.pow(10,n)}function q(t){if(!isFinite(t))return 0;for(var n=0;t%1!==0;)t*=10,n++;return n}function s(){var t;if(!this)return t=Object.create(s.prototype),s.apply(t,arguments),t;t=Error.apply(this,arguments),this.name="QtyError",this.message=t.message,this.stack=t.stack}s.prototype=Object.create(Error.prototype,{constructor:{value:s}});function h(t,n){throw new s("Incompatible units: "+t+" and "+n)}var x={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","","","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["t","tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],3600*24,"time",["<second>"]],"<week>":[["wk","week","weeks"],7*3600*24,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"molar_concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"molar_concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","",""],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules","Joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<electronvolt>":[["eV","electronvolt","electronvolts"],1602176634e-28,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<arcminute>":[["arcmin","arcminute","arcminutes"],Math.PI/10800,"angle",["<radian>"]],"<arcsecond>":[["arcsec","arcsecond","arcseconds"],Math.PI/648e3,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppb>":[["ppb"],1e-9,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-12,"prefix_only",["<1>"]],"<ppq>":[["ppq"],1e-15,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},y=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],I="<1>",H=[I];function B(t,n){var u=n[1],b=n[3]||[],V=n[4]||[];if(!r(u))throw new s(t+": Invalid unit definition. 'scalar' must be a number");b.forEach(function(R){if(x[R]===void 0)throw new s(t+": Invalid unit definition. Unit "+R+" in 'numerator' is not recognized")}),V.forEach(function(R){if(x[R]===void 0)throw new s(t+": Invalid unit definition. Unit "+R+" in 'denominator' is not recognized")})}var T={},S={},O={},j={},ee={};for(var te in x)if(x.hasOwnProperty(te)){var G=x[te];if(G[2]==="prefix"){T[te]=G[1];for(var me=0;me<G[0].length;me++)S[G[0][me]]=te}else{B(te,G),O[te]={scalar:G[1],numerator:G[3],denominator:G[4]};for(var ie=0;ie<G[0].length;ie++)j[G[0][ie]]=te}ee[te]=G[0][0]}function qe(t){var n,u=[],b=Object.keys(x);if(typeof t>"u")for(n=0;n<b.length;n++)["","prefix"].indexOf(x[b[n]][2])===-1&&u.push(b[n].substr(1,b[n].length-2));else{if(this.getKinds().indexOf(t)===-1)throw new s("Kind not recognized");for(n=0;n<b.length;n++)x[b[n]][2]===t&&u.push(b[n].substr(1,b[n].length-2))}return u.sort(function(V,R){return V.toLowerCase()<R.toLowerCase()?-1:V.toLowerCase()>R.toLowerCase()?1:0})}function He(t){if(!j[t])throw new s("Unit not recognized");return x[j[t]][0]}var xe=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function ge(){if(this.signature)return this.signature;for(var t=ze.call(this),n=0;n<t.length;n++)t[n]*=Math.pow(20,n);return t.reduce(function(u,b){return u+b},0)}function ze(){if(!this.isBase())return ze.call(this.toBase());for(var t=new Array(xe.length),n=0;n<t.length;n++)t[n]=0;for(var u,b,V=0;V<this.numerator.length;V++)(u=x[this.numerator[V]])&&(b=xe.indexOf(u[2]),b>=0&&(t[b]=t[b]+1));for(var R=0;R<this.denominator.length;R++)(u=x[this.denominator[R]])&&(b=xe.indexOf(u[2]),b>=0&&(t[b]=t[b]-1));return t}var Re="[+-]",fe="\\d+",$e=Re+"?"+fe,p="\\."+fe,P="(?:"+fe+"(?:"+p+")?)|(?:"+p+")",U="[Ee]"+$e,X="(?:"+P+")(?:"+U+")?",le=Re+"?\\s*"+X,N="("+le+")?\\s*([^/]*)(?:/(.+))?",$=new RegExp("^"+N+"$"),Y="\\^|\\*{2}",F="[01234]",ae=new RegExp("([^ \\*\\d]+?)(?:"+Y+")?(-?"+F+"(?![a-zA-Z]))"),pe=new RegExp("([^ \\*\\d]+?)(?:"+Y+")?("+F+"(?![a-zA-Z]))");function Ue(t){a(t)||(t=t.toString()),t=t.trim();var n=$.exec(t);if(!n)throw new s(t+": Quantity not recognized");var u=n[1];u?(u=u.replace(/\s/g,""),this.scalar=parseFloat(u)):this.scalar=1;for(var b=n[2],V=n[3],R,D,Q;n=ae.exec(b);){if(R=parseFloat(n[2]),isNaN(R))throw new s("Unit exponent is not a number");if(R===0&&!Oe.test(n[1]))throw new s("Unit not recognized");D=n[1]+" ",Q="";for(var oe=0;oe<Math.abs(R);oe++)Q+=D;R>=0?b=b.replace(n[0],Q):(V=V?V+Q:Q,b=b.replace(n[0],""))}for(;n=pe.exec(V);){if(R=parseFloat(n[2]),isNaN(R))throw new s("Unit exponent is not a number");if(R===0&&!Oe.test(n[1]))throw new s("Unit not recognized");D=n[1]+" ",Q="";for(var ye=0;ye<R;ye++)Q+=D;V=V.replace(n[0],Q)}b&&(this.numerator=Ke(b.trim())),V&&(this.denominator=Ke(V.trim()))}var we=Object.keys(S).sort(function(t,n){return n.length-t.length}).join("|"),Ne=Object.keys(j).sort(function(t,n){return n.length-t.length}).join("|"),Pe="\\b|$",Te="("+we+")??("+Ne+")(?:"+Pe+")",Oe=new RegExp("^\\s*("+Te+"[\\s\\*]*)+$"),Xe=new RegExp(Te,"g"),et={};function Ke(t){var n=et[t];if(n)return n;var u,b=[];if(!Oe.test(t))throw new s("Unit not recognized");for(;u=Xe.exec(t);)b.push(u.slice(1));return b=b.map(function(V){return S[V[0]]?[S[V[0]],j[V[1]]]:[j[V[1]]]}),b=b.reduce(function(V,R){return V.concat(R)},[]),b=b.filter(function(V){return V}),et[t]=b,b}function Ve(t){if(!a(t))throw new s("Argument should be a string");try{return this(t)}catch{return null}}function ce(t){return t instanceof z}function z(t,n){if(Ye.apply(null,arguments),!ce(this))return new z(t,n);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=H,this.denominator=H,ut(t)?(this.scalar=t.scalar,this.numerator=t.numerator&&t.numerator.length!==0?t.numerator:H,this.denominator=t.denominator&&t.denominator.length!==0?t.denominator:H):n?(Ue.call(this,n),this.scalar=t):Ue.call(this,t),this.denominator.join("*").indexOf("temp")>=0)throw new s("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new s("Cannot multiply by temperatures");if(!v(this.denominator,H))throw new s("Cannot divide with temperatures")}if(this.initValue=t,bt.call(this),this.isTemperature()&&this.baseScalar<0)throw new s("Temperatures must not be less than absolute zero")}z.prototype={constructor:z};function Ye(t,n){if(n){if(!(r(t)&&a(n)))throw new s("Only number accepted as initialization value when units are explicitly provided")}else if(!(a(t)||r(t)||ce(t)||ut(t)))throw new s("Only string, number or quantity accepted as single initialization value")}function ut(t){return t&&typeof t=="object"&&t.hasOwnProperty("scalar")}function bt(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=ge.call(this);else{var t=this.toBase();this.baseScalar=t.scalar,this.signature=t.signature}}var je={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency","25599999980":"information_rate","25600000000":"information","511999999980":"angular_velocity","512000000000":"angle"};function Ft(){return f(Object.keys(je).map(function(t){return je[t]}))}z.prototype.kind=function(){return je[this.signature.toString()]},g(z.prototype,{isDegrees:function(){return(this.signature===null||this.signature===400)&&this.numerator.length===1&&v(this.denominator,H)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}});function pt(t,n){var u=t.units(),b=n.to(u),V=z(ke(u));return z({scalar:t.scalar-b.scalar,numerator:V.numerator,denominator:V.denominator})}function Ee(t,n){var u=n.to(ke(t.units()));return z({scalar:t.scalar-u.scalar,numerator:t.numerator,denominator:t.denominator})}function Ce(t,n){var u=n.to(ke(t.units()));return z({scalar:t.scalar+u.scalar,numerator:t.numerator,denominator:t.denominator})}function ke(t){if(t==="tempK")return"degK";if(t==="tempC")return"degC";if(t==="tempF")return"degF";if(t==="tempR")return"degR";throw new s("Unknown type for temp conversion from: "+t)}function Rt(t,n){var u=tt(t),b=n.units(),V;if(b==="degK")V=u.scalar;else if(b==="degC")V=u.scalar;else if(b==="degF")V=u.scalar*9/5;else if(b==="degR")V=u.scalar*9/5;else throw new s("Unknown type for degree conversion to: "+b);return z({scalar:V,numerator:n.numerator,denominator:n.denominator})}function tt(t){var n=t.units(),u;if(n.match(/(deg)[CFRK]/))u=t.baseScalar;else if(n==="tempK")u=t.scalar;else if(n==="tempC")u=t.scalar;else if(n==="tempF")u=t.scalar*5/9;else if(n==="tempR")u=t.scalar*5/9;else throw new s("Unknown type for temp conversion from: "+n);return z({scalar:u,numerator:["<kelvin>"],denominator:H})}function st(t,n){var u=n.units(),b;if(u==="tempK")b=t.baseScalar;else if(u==="tempC")b=t.baseScalar-273.15;else if(u==="tempF")b=t.baseScalar*9/5-459.67;else if(u==="tempR")b=t.baseScalar*9/5;else throw new s("Unknown type for temp conversion to: "+u);return z({scalar:b,numerator:n.numerator,denominator:n.denominator})}function yt(t){var n=t.units(),u;if(n.match(/(deg)[CFRK]/))u=t.baseScalar;else if(n==="tempK")u=t.scalar;else if(n==="tempC")u=t.scalar+273.15;else if(n==="tempF")u=(t.scalar+459.67)*5/9;else if(n==="tempR")u=t.scalar*5/9;else throw new s("Unknown type for temp conversion from: "+n);return z({scalar:u,numerator:["<temp-K>"],denominator:H})}g(z.prototype,{to:function(t){var n,u;if(t==null)return this;if(!a(t))return this.to(t.units());if(n=this._conversionCache[t],n)return n;if(u=z(t),u.units()===this.units())return this;if(!this.isCompatible(u))this.isInverse(u)?u=this.inverse().to(t):h(this.units(),u.units());else if(u.isTemperature())u=st(this,u);else if(u.isDegrees())u=Rt(this,u);else{var b=d(this.baseScalar,u.baseScalar);u=z({scalar:b,numerator:u.numerator,denominator:u.denominator})}return this._conversionCache[t]=u,u},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return yt(this);var t=nt[this.units()];return t||(t=Ze(this.numerator,this.denominator),nt[this.units()]=t),t.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new s("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(t){if(a(t)&&(t=z(t)),r(t)&&(t=z(t+" "+this.units())),this.isUnitless()?t.isUnitless()||h(this.units(),t.units()):t=t.to(this.units()),t.scalar===0)throw new s("Divide by zero");var n=C(Math.round(this.scalar/t.scalar),t.scalar);return z(n+this.units())}});function lt(t,n){var u=z(t),b=z(n);if(u.eq(b))return c;var V;return u.isTemperature()?V=function(R){return u.mul(R).to(b).scalar}:V=function(R){return R*u.baseScalar/b.baseScalar},function(D){var Q,oe,ye;if(Array.isArray(D)){for(oe=D.length,ye=[],Q=0;Q<oe;Q++)ye.push(V(D[Q]));return ye}else return V(D)}}var nt={};function Ze(t,n){for(var u=[],b=[],V=1,R,D=0;D<t.length;D++)R=t[D],T[R]?V=C(V,T[R]):O[R]&&(V*=O[R].scalar,O[R].numerator&&u.push(O[R].numerator),O[R].denominator&&b.push(O[R].denominator));for(var Q=0;Q<n.length;Q++)R=n[Q],T[R]?V/=T[R]:O[R]&&(V/=O[R].scalar,O[R].numerator&&b.push(O[R].numerator),O[R].denominator&&u.push(O[R].denominator));return u=u.reduce(function(oe,ye){return oe.concat(ye)},[]),b=b.reduce(function(oe,ye){return oe.concat(ye)},[]),z({scalar:V,numerator:u,denominator:b})}z.parse=Ve,z.getUnits=qe,z.getAliases=He,z.mulSafe=C,z.divSafe=d,z.getKinds=Ft,z.swiftConverter=lt,z.Error=s,g(z.prototype,{add:function(t){if(a(t)&&(t=z(t)),this.isCompatible(t)||h(this.units(),t.units()),this.isTemperature()&&t.isTemperature())throw new s("Cannot add two temperatures");return this.isTemperature()?Ce(this,t):t.isTemperature()?Ce(t,this):z({scalar:this.scalar+t.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(t){if(a(t)&&(t=z(t)),this.isCompatible(t)||h(this.units(),t.units()),this.isTemperature()&&t.isTemperature())return pt(this,t);if(this.isTemperature())return Ee(this,t);if(t.isTemperature())throw new s("Cannot subtract a temperature from a differential degree unit");return z({scalar:this.scalar-t.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(t){if(r(t))return z({scalar:C(this.scalar,t),numerator:this.numerator,denominator:this.denominator});if(a(t)&&(t=z(t)),(this.isTemperature()||t.isTemperature())&&!(this.isUnitless()||t.isUnitless()))throw new s("Cannot multiply by temperatures");var n=this,u=t;n.isCompatible(u)&&n.signature!==400&&(u=u.to(n));var b=ct(n.numerator,n.denominator,u.numerator,u.denominator);return z({scalar:C(n.scalar,u.scalar,b[2]),numerator:b[0],denominator:b[1]})},div:function(t){if(r(t)){if(t===0)throw new s("Divide by zero");return z({scalar:this.scalar/t,numerator:this.numerator,denominator:this.denominator})}else a(t)&&(t=z(t));if(t.scalar===0)throw new s("Divide by zero");if(t.isTemperature())throw new s("Cannot divide with temperatures");if(this.isTemperature()&&!t.isUnitless())throw new s("Cannot divide with temperatures");var n=this,u=t;n.isCompatible(u)&&n.signature!==400&&(u=u.to(n));var b=ct(n.numerator,n.denominator,u.denominator,u.numerator);return z({scalar:C(n.scalar,b[2])/u.scalar,numerator:b[0],denominator:b[1]})},inverse:function(){if(this.isTemperature())throw new s("Cannot divide with temperatures");if(this.scalar===0)throw new s("Divide by zero");return z({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}});function ct(t,n,u,b){function V(ve){return ve!==I}t=t.filter(V),u=u.filter(V),n=n.filter(V),b=b.filter(V);var R={};function D(ve,Fe){for(var _e,wt,Ct,We=0;We<ve.length;We++)if(T[ve[We]]?(_e=ve[We+1],wt=ve[We],Ct=T[wt],We++):(_e=ve[We],wt=null,Ct=1),_e&&_e!==I)if(R[_e]){R[_e][0]+=Fe;var Ut=R[_e][2]?T[R[_e][2]]:1;R[_e][Fe===1?3:4]*=d(Ct,Ut)}else R[_e]=[Fe,_e,wt,1,1]}D(t,1),D(n,-1),D(u,1),D(b,-1);var Q=[],oe=[],ye=1;for(var $t in R)if(R.hasOwnProperty($t)){var ue=R[$t],Be;if(ue[0]>0)for(Be=0;Be<ue[0];Be++)Q.push(ue[2]===null?ue[1]:[ue[2],ue[1]]);else if(ue[0]<0)for(Be=0;Be<-ue[0];Be++)oe.push(ue[2]===null?ue[1]:[ue[2],ue[1]]);ye*=d(ue[3],ue[4])}return Q.length===0&&(Q=H),oe.length===0&&(oe=H),Q=Q.reduce(function(ve,Fe){return ve.concat(Fe)},[]),oe=oe.reduce(function(ve,Fe){return ve.concat(Fe)},[]),[Q,oe,ye]}g(z.prototype,{eq:function(t){return this.compareTo(t)===0},lt:function(t){return this.compareTo(t)===-1},lte:function(t){return this.eq(t)||this.lt(t)},gt:function(t){return this.compareTo(t)===1},gte:function(t){return this.eq(t)||this.gt(t)},compareTo:function(t){if(a(t))return this.compareTo(z(t));if(this.isCompatible(t)||h(this.units(),t.units()),this.baseScalar<t.baseScalar)return-1;if(this.baseScalar===t.baseScalar)return 0;if(this.baseScalar>t.baseScalar)return 1},same:function(t){return this.scalar===t.scalar&&this.units()===t.units()}}),g(z.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every(function(t){return v(t,H)})},isCompatible:function(t){return a(t)?this.isCompatible(z(t)):ce(t)&&t.signature!==void 0?this.signature===t.signature:!1},isInverse:function(t){return this.inverse().isCompatible(t)},isBase:function(){return this._isBase!==void 0?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach(function(t){t!==I&&y.indexOf(t)===-1&&(this._isBase=!1)},this),this._isBase===!1?this._isBase:(this._isBase=!0,this._isBase))}});function dt(){}dt.prototype.get=function(t){return arguments.length>1&&(t=Array.apply(null,arguments)),t.reduce(function(n,u,b){if(n){var V=n[u];return b===t.length-1?V?V.data:void 0:V}},this)},dt.prototype.set=function(t,n){return arguments.length>2&&(t=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1]),t.reduce(function(u,b,V){var R=u[b];return R===void 0&&(R=u[b]={}),V===t.length-1?(R.data=n,n):R},this)};function Pt(t,n){return(t+" "+n).trim()}z.formatter=Pt,g(z.prototype,{units:function(){if(this._units!==void 0)return this._units;var t=v(this.numerator,H),n=v(this.denominator,H);if(t&&n)return this._units="",this._units;var u=St(this.numerator),b=St(this.denominator);return this._units=u+(n?"":"/"+b),this._units},toString:function(t,n){var u;if(r(t))u=this.units(),n=t;else if(a(t))u=t;else if(ce(t))return this.toPrec(t).toString(n);var b=this.to(u),V=n!==void 0?k(b.scalar,n):b.scalar;return b=(V+" "+b.units()).trim(),b},format:function(t,n){arguments.length===1&&typeof t=="function"&&(n=t,t=void 0),n=n||z.formatter;var u=this.to(t);return n.call(this,u.scalar,u.units())}});var ft=new dt;function St(t){var n=ft.get(t);if(n)return n;var u=v(t,H);return u?n="1":n=E(m(t)).join("*"),ft.set(t,n),n}function m(t){for(var n=[],u,b,V=0;V<t.length;V++)u=t[V],b=t[V+1],T[u]?(n.push(ee[u]+ee[b]),V++):n.push(ee[u]);return n}function E(t){var n=t.reduce(function(u,b){var V=u[b];return V||u.push(V=u[b]=[b,0]),V[1]++,u},[]);return n.map(function(u){return u[0]+(u[1]>1?u[1]:"")})}return z.version="1.8.0",z})}(Kt)),Kt.exports}var Ja=Za();const Yt=la(Ja);class hl{label;value;constructor(l,a){this.label=l,this.value=a}times(l){return this.value.mul(l)}}const Vt=new hl("Liter",new Yt("L")),eo=new hl("US gal",new Yt("gallon")),to=new hl("Imp gal",new Yt("gallon-imp")),sn=[Vt,eo,to];class be{value;unit;constructor(l,a){if(typeof l=="number"){if(a===void 0)l!==0&&console.warn("No explicit unit. Using liters"),a=Vt;else if(!a.value.isCompatible(Vt.value))throw console.error("Incompatible unit: %s",l),new Error(`Incompatible unit: ${l.toString()}`);this.value=a.value.mul(l),this.unit=a}else a!==void 0&&console.warn("Unit is ignored when a value is explicit"),this.value=new Yt(l.value),this.unit=l.unit}valueOf(){return this.value.baseScalar}add(l){return new be(this.value.add(l.value).to(this.unit.value).scalar,this.unit)}sub(l){return new be(this.value.sub(l.value).to(this.unit.value).scalar,this.unit)}floor(){return new be(Math.floor(this.value.scalar),this.unit)}to(l){return l?new be(this.value.to(l.value).scalar,l):new be(this.value.scalar,this.unit)}format(l){return l?this.value.to(l.value).format():this.value.format()}toString(l){return this.to(l).floor().format()}static min(l,...a){let o=l;for(const r of a)(o===void 0||r.value.toBase()<o.value.toBase())&&(o=r);return o}static max(l,...a){let o=l;for(const r of a)(o===void 0||r.value.toBase()>o.value.toBase())&&(o=r);return o}}const cn=Me({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:l,emit:a}){const o=Ae(),r=L(null);let c=0;const f=[];function v(s){const h=typeof s=="boolean"?s:e.noErrorFocus!==!0,x=++c,y=(B,T)=>{a(`validation${B===!0?"Success":"Error"}`,T)},I=B=>{const T=B.validate();return typeof T.then=="function"?T.then(S=>({valid:S,comp:B}),S=>({valid:!1,comp:B,err:S})):Promise.resolve({valid:T,comp:B})};return(e.greedy===!0?Promise.all(f.map(I)).then(B=>B.filter(T=>T.valid!==!0)):f.reduce((B,T)=>B.then(()=>I(T).then(S=>{if(S.valid===!1)return Promise.reject(S)})),Promise.resolve()).catch(B=>[B])).then(B=>{if(B===void 0||B.length===0)return x===c&&y(!0),!0;if(x===c){const{comp:T,err:S}=B[0];if(S!==void 0&&console.error(S),y(!1,T),h===!0){const O=B.find(({comp:j})=>typeof j.focus=="function"&&Qn(j.$)===!1);O!==void 0&&O.comp.focus()}}return!1})}function g(){c++,f.forEach(s=>{typeof s.resetValidation=="function"&&s.resetValidation()})}function C(s){s!==void 0&&Qe(s);const h=c+1;v().then(x=>{h===c&&x===!0&&(e.onSubmit!==void 0?a("submit",s):s?.target!==void 0&&typeof s.target.submit=="function"&&s.target.submit())})}function d(s){s!==void 0&&Qe(s),a("reset"),Ie(()=>{g(),e.autofocus===!0&&e.noResetFocus!==!0&&k()})}function k(){Wl(()=>{if(r.value===null)return;(r.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),h=>h.tabIndex!==-1))?.focus({preventScroll:!0})})}Gn(Xn,{bindComponent(s){f.push(s)},unbindComponent(s){const h=f.indexOf(s);h!==-1&&f.splice(h,1)}});let q=!1;return sl(()=>{q=!0}),cl(()=>{q===!0&&e.autofocus===!0&&k()}),Gt(()=>{e.autofocus===!0&&k()}),Object.assign(o.proxy,{validate:v,resetValidation:g,submit:C,reset:d,focus:k,getValidationComponents:()=>f}),()=>_("form",{class:"q-form",ref:r,onSubmit:C,onReset:d},rt(l.default))}});function dn(){return Ql(Yn)}const lo={class:"column q-gutter-md"},no={key:0,class:"text-subtitle1 text-center"},ao={class:"row q-gutter-xs"},oo={class:"col"},ro={class:"col-2"},io=dl({__name:"InputListFuel",props:Gl({globalFuelUnit:{},fuelCapacity:{},title:{},showTotal:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const l=dn(),a=e,o=Xl(e,"modelValue"),r=L([new be(0)]),c=L(0),f=L(Vt),v=L(),g=w(()=>o.value?.toString(a.globalFuelUnit??c.value)??"N/A"),C=L(null);Z(a,h=>{f.value=h.globalFuelUnit});function d(){const h=new be(c.value,f.value);if(h>a.fuelCapacity)C.value="Trying to add more fuel than possible";else{let x;r.value.length==0||r.value.length==1&&r.value[0]?.value.scalar==0?x=[h]:x=[...r.value,h],s(x)}v.value?.focus(),v.value?.select()}function k(h){const x=r.value??[],y=[...x.slice(0,h),...x.slice(h+1)];s(y)}function q(){r.value?.length>1?l.dialog({title:"Confirm",message:"Delete all entries?",cancel:!0,persistent:!1}).onOk(()=>{s([])}).onDismiss(()=>{v.value?.focus(),v.value?.select()}):(s([]),v.value?.focus(),v.value?.select())}function s(h){h.length==0&&(h=[new be(0)]),r.value=h,o.value=h.reduce((x,y)=>x.add(y),new be(0))}return(h,x)=>(Le(),kt(en,{class:"q-pa-md"},{default:re(()=>[he("div",lo,[h.title?(Le(),qt("span",no,de(h.title),1)):It("",!0),K(cn,{class:"print-hide",onSubmit:jt(d,["prevent"])},{default:re(()=>[he("div",ao,[he("div",oo,[K(vt(ot),{ref_key:"fuelInputField",ref:v,modelValue:c.value,"onUpdate:modelValue":[x[0]||(x[0]=y=>c.value=y),x[1]||(x[1]=y=>C.value=null)],modelModifiers:{number:!0},type:"number",inputmode:"numeric",filled:""},null,8,["modelValue"]),Yl(he("span",{class:"text-negative"},de(C.value),513),[[Zl,C.value]])]),he("div",ro,[K(gl,{class:"fit",modelValue:f.value,"onUpdate:modelValue":x[2]||(x[2]=y=>f.value=y),options:vt(sn),filled:""},null,8,["modelValue","options"])]),K(ht),K(at,{class:"col-1",icon:"add",type:"submit"}),K(ht),K(at,{class:"col-1",onMousedown:x[3]||(x[3]=jt(()=>{},["prevent"])),onClick:x[4]||(x[4]=y=>q())},{default:re(()=>[K(Ge,{name:"delete_forever",color:"negative"})]),_:1})])]),_:1}),h.showTotal?(Le(),kt(vt(ot),{key:1,class:"col",modelValue:g.value,"onUpdate:modelValue":x[5]||(x[5]=y=>g.value=y),readonly:"",filled:"",outlined:"",label:"Total fuel"},null,8,["modelValue"])):It("",!0),K(ml,{bordered:""},{default:re(()=>[(Le(!0),qt(fl,null,Jl(r.value,(y,I)=>(Le(),kt(vl,{key:I},{default:re(()=>[K(mt,null,{default:re(()=>[Tt(de(y),1)]),_:2},1024),K(mt,{side:""},{default:re(()=>[Tt(de(y.toString(vt(Vt))),1)]),_:2},1024),K(mt,{side:"",class:"print-hide"},{default:re(()=>[K(Ge,{name:"delete",color:"negative",onClick:H=>k(I)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1}))}}),uo={class:"column q-gutter-md"},so={key:0,class:"text-subtitle1 text-center"},co={class:"row q-gutter-xs"},fo={class:"col"},vo=dl({__name:"InputListHours",props:Gl({title:{},showTotal:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const l=dn(),a=Xl(e,"modelValue"),o=L([new Je(0)]),r=L("0:30"),c=L(),f=L(null),v=L(new Je(0).toString());function g(){const[q,s]=(r.value??"0").split(":"),h=parseInt(q??"0"),x=parseInt(s??"0");if(x<0||x>=60)f.value="Invalid number of minutes";else{const y=h*3600+x*60;let I;o.value.length==0||o.value.length==1&&o.value[0]?.duration_s==0?I=[new Je(y)]:I=[...o.value,new Je(y)],k(I)}c.value?.focus(),c.value?.select()}function C(q){const s=o.value??[],h=[...s.slice(0,q),...s.slice(q+1)];k(h)}function d(){o.value?.length>1?l.dialog({title:"Confirm",message:"Delete all entries?",cancel:!0,persistent:!1}).onOk(()=>{k([])}).onDismiss(()=>{c.value?.focus(),c.value?.select()}):(k([]),c.value?.focus(),c.value?.select())}function k(q){q.length==0&&(q=[new Je(0)]);const s=q.reduce((h,x)=>new Je(h.duration_s+x.duration_s),new Je(0));o.value=q,v.value=s.toString(),a.value=s}return(q,s)=>(Le(),kt(en,{class:"q-pa-md"},{default:re(()=>[he("div",uo,[q.title?(Le(),qt("span",so,de(q.title),1)):It("",!0),K(cn,{class:"print-hide",onSubmit:jt(g,["prevent"])},{default:re(()=>[he("div",co,[he("div",fo,[K(vt(ot),{ref_key:"valueInputField",ref:c,modelValue:r.value,"onUpdate:modelValue":[s[0]||(s[0]=h=>r.value=h),s[1]||(s[1]=h=>f.value=null)],inputmode:"numeric",mask:"#:##","fill-mask":"0",maxlength:"5","reverse-fill-mask":"",filled:""},null,8,["modelValue"]),Yl(he("span",{class:"text-negative"},de(f.value),513),[[Zl,f.value]])]),K(ht),K(at,{class:"col-1",icon:"add",type:"submit"}),K(ht),K(at,{class:"col-1",onMousedown:s[2]||(s[2]=jt(()=>{},["prevent"])),onClick:s[3]||(s[3]=h=>d())},{default:re(()=>[K(Ge,{name:"delete_forever",color:"negative"})]),_:1})])]),_:1}),q.showTotal?(Le(),kt(vt(ot),{key:1,class:"col",modelValue:v.value,"onUpdate:modelValue":s[4]||(s[4]=h=>v.value=h),readonly:"",filled:"",outlined:"",label:"Total time"},null,8,["modelValue"])):It("",!0),K(ml,{bordered:""},{default:re(()=>[(Le(!0),qt(fl,null,Jl(o.value,(h,x)=>(Le(),kt(vl,{key:x},{default:re(()=>[K(mt,null,{default:re(()=>[Tt(de(h),1)]),_:2},1024),K(mt,{side:""},{default:re(()=>[Tt(de(Math.ceil(h.duration_s/60))+"min ",1)]),_:2},1024),K(mt,{side:"",class:"print-hide"},{default:re(()=>[K(Ge,{name:"delete",color:"negative",onClick:y=>C(x)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1}))}}),mo={class:"q-gutter-md"},go={class:"row q-gutter-md print-hide"},ho={class:"row q-gutter-md print-only"},bo={key:0,class:"col-1"},po={class:"col"},yo={class:"col"},So={class:"col"},wo={class:"q-gutter-md"},Vo=dl({__name:"FuelComputerPage",setup(e){class l{label;value;showWarning;showAlert;constructor(T,S,O=!1,j=!1){this.label=T,S==null?this.value="n/a":typeof S=="number"?this.value=Math.ceil(S).toString():this.value=S.toString(),this.showAlert=j,this.showWarning=!j&&O}}const a=L(""),o=L(Vt),r=L(25),c=L(110),f=L(109),v=w(()=>new be(c.value,o.value)),g=w(()=>new be(f.value,o.value)),C=w(()=>v.value.sub(g.value)),d=w(()=>r.value/60),k=L(new Je(0)),q=L(new be(0)),s=w(()=>new be(Math.ceil(d.value*k.value.duration_s/60),o.value)),h=w(()=>be.min(q.value.sub(s.value),v.value)),x=w(()=>be.max(new be(0),be.min(h.value.sub(C.value),g.value))),y=w(()=>new Je(x.value.value.scalar/d.value*60)),I=w(()=>{const B=y.value.duration_s<3600,T=y.value.duration_s<30*60;return[new l("Total flight time",`${k.value.toString()} (${Math.ceil(k.value.duration_s/60)} min)`),new l("Total consumed fuel",`${s.value.toString(o.value)}`),new l("Total added fuel",`${q.value.toString(o.value)}`),new l("Estimated remaining fuel",`${h.value.toString(o.value)}`,B,T),new l("Estimated usable fuel",`${x.value.toString(o.value)}`,B,T),new l("Estimated remaining flight time",`${y.value.toString()} (${Math.floor(y.value.duration_s/60)} min)`,B,T)]}),H=L(!1);return(B,T)=>(Le(),qt(fl,null,[K(ta,{padding:"",class:"col"},{default:re(()=>[he("div",mo,[he("div",go,[K(ot,{class:"col",modelValue:a.value,"onUpdate:modelValue":T[0]||(T[0]=S=>a.value=S),label:"Immatriculation",hint:"Immatriculation of the plane"},null,8,["modelValue"]),K(gl,{class:"col-1",modelValue:o.value,"onUpdate:modelValue":T[1]||(T[1]=S=>o.value=S),options:vt(sn)},null,8,["modelValue","options"]),K(ot,{class:"col",modelValue:r.value,"onUpdate:modelValue":T[2]||(T[2]=S=>r.value=S),label:"Fuel consumption",hint:`Fuel consumption per hour (${d.value.toFixed(2)} ${o.value.label}/minute)`},null,8,["modelValue","hint"]),K(ot,{class:"col",modelValue:c.value,"onUpdate:modelValue":T[3]||(T[3]=S=>c.value=S),label:"Fuel capacity",hint:"Total fuel capacity"},null,8,["modelValue"]),K(ot,{class:"col",modelValue:f.value,"onUpdate:modelValue":T[4]||(T[4]=S=>f.value=S),label:"Consumable fuel",hint:"Total consumable fuel"},null,8,["modelValue"])]),he("div",ho,[a.value?(Le(),qt("span",bo,de(a.value),1)):It("",!0),he("span",po,"Fuel Consumption: "+de(r.value)+" "+de(o.value.label)+"/h ("+de(d.value.toFixed(2))+" "+de(o.value.label)+"/min)",1),he("span",yo,"Fuel capacity: "+de(c.value)+""+de(o.value.label),1),he("span",So,"Consumable fuel: "+de(f.value)+""+de(o.value.label),1)]),K(ht),he("div",wo,[K(Ga,{class:"col",rows:I.value,"rows-per-page-options":[0],"hide-header":"","hide-pagination":""},{body:re(S=>[K(Sa,{props:S,class:kl(["q-tr--no-hover",{"text-negative":S.row.showAlert,"text-warning":S.row.showWarning,"text-weight-medium":S.row.showAlert||S.row.showWarning}])},{default:re(()=>[K(Ml,{key:"label",props:S},{default:re(()=>[Tt(de(S.row.label),1)]),_:2},1032,["props"]),K(Ml,{key:"value",props:S,class:"text-right"},{default:re(()=>[Tt(de(S.row.value),1)]),_:2},1032,["props"])]),_:2},1032,["props","class"])]),_:1},8,["rows"])]),K(ht),K(Nt,{class:"print-hide",modelValue:H.value,"onUpdate:modelValue":T[5]||(T[5]=S=>H.value=S),label:"Print tables"},null,8,["modelValue"]),he("div",{class:kl(["row q-gutter-md",{"print-hide":!H.value}])},[K(vo,{class:"col",modelValue:k.value,"onUpdate:modelValue":T[6]||(T[6]=S=>k.value=S),title:"Flight times"},null,8,["modelValue"]),K(io,{class:"col",modelValue:q.value,"onUpdate:modelValue":T[7]||(T[7]=S=>q.value=S),"global-fuel-unit":o.value,"fuel-capacity":v.value,title:"Added fuel"},null,8,["modelValue","global-fuel-unit","fuel-capacity"])],2)])]),_:1}),K(Xa,{class:"print-only"},{default:re(()=>[he("p",null,"Edited on "+de(new Date().toLocaleString()),1)]),_:1})],64))}});export{Vo as default};
