import{k as D,c as n,h as w,l as J,u as Ee,m as Ue,w as h,g as Y,a as fe,n as O,p as Z,r as T,q as Ce,t as je,v as Ke,x as Xe,y as Ge,z as Je,A as Ye,B as Ze,C as et,D as tt,E as ge,o as at,G as lt,H as ye,I as $e,J as nt,K as re,L as ot,M as K,b as it,N as rt,d as Be,O as ce,P as N,Q as S,R as ut,f as b,S as st,U as E,V as we,W as ct,X as ke,Y as pe,F as Se,Z as dt,_ as Te}from"./index-QLAcIGo9.js";import{u as ft,a as vt,b as mt,Q as ht,c as bt}from"./QScrollObserver-BVW3jtWF.js";import{Q as de,a as xe}from"./QList-CpzgJxK_.js";import{b as X,Q as gt,a as qe,c as G}from"./QItem-ByfbdX-P.js";import{T as ue}from"./TouchPan-DBoJVexA.js";const yt=D({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:f}){const d=n(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>w("div",{class:d.value},J(f.default))}}),se=D({name:"QRouteTab",props:{...Ee,...ft},emits:vt,setup(e,{slots:f,emit:d}){const o=Ue({useDisableForRouterLinkProps:!1}),{renderTab:r,$tabs:u}=mt(e,f,d,{exact:n(()=>e.exact),...o});return h(()=>`${e.name} | ${e.exact} | ${(o.resolvedLink.value||{}).href}`,u.verifyRouteModel),()=>r(o.linkTag.value,o.linkAttrs.value)}}),wt=D({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:f}){const d=n(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>w("div",{class:d.value,role:"toolbar"},J(f.default))}}),kt=D({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:f,emit:d}){const{proxy:{$q:o}}=Y(),r=fe(Z,O);if(r===O)return console.error("QHeader needs to be child of QLayout"),O;const u=T(parseInt(e.heightHint,10)),m=T(!0),C=n(()=>e.reveal===!0||r.view.value.indexOf("H")!==-1||o.platform.is.ios&&r.isContainer.value===!0),g=n(()=>{if(e.modelValue!==!0)return 0;if(C.value===!0)return m.value===!0?u.value:0;const l=u.value-r.scroll.value.position;return l>0?l:0}),x=n(()=>e.modelValue!==!0||C.value===!0&&m.value!==!0),a=n(()=>e.modelValue===!0&&x.value===!0&&e.reveal===!0),V=n(()=>"q-header q-layout__section--marginal "+(C.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(x.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),z=n(()=>{const l=r.rows.value.top,q={};return l[0]==="l"&&r.left.space===!0&&(q[o.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),l[2]==="r"&&r.right.space===!0&&(q[o.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),q});function k(l,q){r.update("header",l,q)}function v(l,q){l.value!==q&&(l.value=q)}function Q({height:l}){v(u,l),k("size",l)}function p(l){a.value===!0&&v(m,!0),d("focusin",l)}h(()=>e.modelValue,l=>{k("space",l),v(m,!0),r.animate()}),h(g,l=>{k("offset",l)}),h(()=>e.reveal,l=>{l===!1&&v(m,e.modelValue)}),h(m,l=>{r.animate(),d("reveal",l)}),h(r.scroll,l=>{e.reveal===!0&&v(m,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const c={};return r.instances.header=c,e.modelValue===!0&&k("size",u.value),k("space",e.modelValue),k("offset",g.value),Ce(()=>{r.instances.header===c&&(r.instances.header=void 0,k("size",0),k("offset",0),k("space",!1))}),()=>{const l=je(f.default,[]);return e.elevated===!0&&l.push(w("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(w(de,{debounce:0,onResize:Q})),w("header",{class:V.value,style:z.value,onFocusin:p},l)}}}),Le=150,pt=D({name:"QDrawer",inheritAttrs:!1,props:{...Ge,...Xe,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ke,"onLayout","miniState"],setup(e,{slots:f,emit:d,attrs:o}){const r=Y(),{proxy:{$q:u}}=r,m=Je(e,u),{preventBodyScroll:C}=tt(),{registerTimeout:g,removeTimeout:x}=Ye(),a=fe(Z,O);if(a===O)return console.error("QDrawer needs to be child of QLayout"),O;let V,z=null,k;const v=T(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),Q=n(()=>e.mini===!0&&v.value!==!0),p=n(()=>Q.value===!0?e.miniWidth:e.width),c=T(e.showIfAbove===!0&&v.value===!1?!0:e.modelValue===!0),l=n(()=>e.persistent!==!0&&(v.value===!0||ze.value===!0));function q(t,i){if($(),t!==!1&&a.animate(),B(0),v.value===!0){const _=a.instances[U.value];_?.belowBreakpoint===!0&&_.hide(!1),M(1),a.isContainer.value!==!0&&C(!0)}else M(0),t!==!1&&ne(!1);g(()=>{t!==!1&&ne(!0),i!==!0&&d("show",t)},Le)}function s(t,i){F(),t!==!1&&a.animate(),M(0),B(H.value*p.value),oe(),i!==!0?g(()=>{d("hide",t)},Le):x()}const{show:y,hide:L}=Ze({showing:c,hideOnRouteChange:l,handleShow:q,handleHide:s}),{addToHistory:$,removeFromHistory:F}=et(c,L,l),W={belowBreakpoint:v,hide:L},P=n(()=>e.side==="right"),H=n(()=>(u.lang.rtl===!0?-1:1)*(P.value===!0?1:-1)),ve=T(0),A=T(!1),ee=T(!1),me=T(p.value*H.value),U=n(()=>P.value===!0?"left":"right"),te=n(()=>c.value===!0&&v.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:p.value:0),ae=n(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(P.value?"R":"L")!==-1||u.platform.is.ios===!0&&a.isContainer.value===!0),I=n(()=>e.overlay===!1&&c.value===!0&&v.value===!1),ze=n(()=>e.overlay===!0&&c.value===!0&&v.value===!1),Qe=n(()=>"fullscreen q-drawer__backdrop"+(c.value===!1&&A.value===!1?" hidden":"")),Pe=n(()=>({backgroundColor:`rgba(0,0,0,${ve.value*.4})`})),he=n(()=>P.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),Oe=n(()=>P.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Me=n(()=>{const t={};return a.header.space===!0&&he.value===!1&&(ae.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&Oe.value===!1&&(ae.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),Re=n(()=>{const t={width:`${p.value}px`,transform:`translateX(${me.value}px)`};return v.value===!0?t:Object.assign(t,Me.value)}),Ve=n(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),We=n(()=>`q-drawer q-drawer--${e.side}`+(ee.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(m.value===!0?" q-drawer--dark q-dark":"")+(A.value===!0?" no-transition":c.value===!0?"":" q-layout--prevent-focus")+(v.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${Q.value===!0?"mini":"standard"}`+(ae.value===!0||I.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(he.value===!0?" q-drawer--top-padding":""))),De=n(()=>{const t=u.lang.rtl===!0?e.side:U.value;return[[ue,Ie,void 0,{[t]:!0,mouse:!0}]]}),He=n(()=>{const t=u.lang.rtl===!0?U.value:e.side;return[[ue,be,void 0,{[t]:!0,mouse:!0}]]}),Ae=n(()=>{const t=u.lang.rtl===!0?U.value:e.side;return[[ue,be,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function le(){Ne(v,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}h(v,t=>{t===!0?(V=c.value,c.value===!0&&L(!1)):e.overlay===!1&&e.behavior!=="mobile"&&V!==!1&&(c.value===!0?(B(0),M(0),oe()):y(!1))}),h(()=>e.side,(t,i)=>{a.instances[i]===W&&(a.instances[i]=void 0,a[i].space=!1,a[i].offset=0),a.instances[t]=W,a[t].size=p.value,a[t].space=I.value,a[t].offset=te.value}),h(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&le()}),h(()=>e.behavior+e.breakpoint,le),h(a.isContainer,t=>{c.value===!0&&C(t!==!0),t===!0&&le()}),h(a.scrollbarWidth,()=>{B(c.value===!0?0:void 0)}),h(te,t=>{R("offset",t)}),h(I,t=>{d("onLayout",t),R("space",t)}),h(P,()=>{B()}),h(p,t=>{B(),ie(e.miniToOverlay,t)}),h(()=>e.miniToOverlay,t=>{ie(t,p.value)}),h(()=>u.lang.rtl,()=>{B()}),h(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Fe(),a.animate())}),h(Q,t=>{d("miniState",t)});function B(t){t===void 0?ge(()=>{t=c.value===!0?0:p.value,B(H.value*t)}):(a.isContainer.value===!0&&P.value===!0&&(v.value===!0||Math.abs(t)===p.value)&&(t+=H.value*a.scrollbarWidth.value),me.value=t)}function M(t){ve.value=t}function ne(t){const i=t===!0?"remove":a.isContainer.value!==!0?"add":"";i!==""&&document.body.classList[i]("q-body--drawer-toggle")}function Fe(){z!==null&&clearTimeout(z),r.proxy&&r.proxy.$el&&r.proxy.$el.classList.add("q-drawer--mini-animate"),ee.value=!0,z=setTimeout(()=>{z=null,ee.value=!1,r?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function Ie(t){if(c.value!==!1)return;const i=p.value,_=X(t.distance.x,0,i);if(t.isFinal===!0){_>=Math.min(75,i)===!0?y():(a.animate(),M(0),B(H.value*i)),A.value=!1;return}B((u.lang.rtl===!0?P.value!==!0:P.value)?Math.max(i-_,0):Math.min(0,_-i)),M(X(_/i,0,1)),t.isFirst===!0&&(A.value=!0)}function be(t){if(c.value!==!0)return;const i=p.value,_=t.direction===e.side,j=(u.lang.rtl===!0?_!==!0:_)?X(t.distance.x,0,i):0;if(t.isFinal===!0){Math.abs(j)<Math.min(75,i)===!0?(a.animate(),M(1),B(0)):L(),A.value=!1;return}B(H.value*j),M(X(1-j/i,0,1)),t.isFirst===!0&&(A.value=!0)}function oe(){C(!1),ne(!0)}function R(t,i){a.update(e.side,t,i)}function Ne(t,i){t.value!==i&&(t.value=i)}function ie(t,i){R("size",t===!0?e.miniWidth:i)}return a.instances[e.side]=W,ie(e.miniToOverlay,p.value),R("space",I.value),R("offset",te.value),e.showIfAbove===!0&&e.modelValue!==!0&&c.value===!0&&e["onUpdate:modelValue"]!==void 0&&d("update:modelValue",!0),at(()=>{d("onLayout",I.value),d("miniState",Q.value),V=e.showIfAbove===!0;const t=()=>{(c.value===!0?q:s)(!1,!0)};if(a.totalWidth.value!==0){ge(t);return}k=h(a.totalWidth,()=>{k(),k=void 0,c.value===!1&&e.showIfAbove===!0&&v.value===!1?y(!1):t()})}),Ce(()=>{k?.(),z!==null&&(clearTimeout(z),z=null),c.value===!0&&oe(),a.instances[e.side]===W&&(a.instances[e.side]=void 0,R("size",0),R("offset",0),R("space",!1))}),()=>{const t=[];v.value===!0&&(e.noSwipeOpen===!1&&t.push(lt(w("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),De.value)),t.push(ye("div",{ref:"backdrop",class:Qe.value,style:Pe.value,"aria-hidden":"true",onClick:L},void 0,"backdrop",e.noSwipeBackdrop!==!0&&c.value===!0,()=>Ae.value)));const i=Q.value===!0&&f.mini!==void 0,_=[w("div",{...o,key:""+i,class:[Ve.value,o.class]},i===!0?f.mini():J(f.default))];return e.elevated===!0&&c.value===!0&&_.push(w("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(ye("aside",{ref:"content",class:We.value,style:Re.value},_,"contentclose",e.noSwipeClose!==!0&&v.value===!0,()=>He.value)),w("div",{class:"q-drawer-container"},t)}}}),St=D({name:"QPageContainer",setup(e,{slots:f}){const{proxy:{$q:d}}=Y(),o=fe(Z,O);if(o===O)return console.error("QPageContainer needs to be child of QLayout"),O;$e(nt,!0);const r=n(()=>{const u={};return o.header.space===!0&&(u.paddingTop=`${o.header.size}px`),o.right.space===!0&&(u[`padding${d.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(u.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(u[`padding${d.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),u});return()=>w("div",{class:"q-page-container",style:r.value},J(f.default))}}),Tt=D({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:f,emit:d}){const{proxy:{$q:o}}=Y(),r=T(null),u=T(o.screen.height),m=T(e.container===!0?0:o.screen.width),C=T({position:0,direction:"down",inflectionPoint:0}),g=T(0),x=T(ot.value===!0?0:re()),a=n(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),V=n(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),z=n(()=>x.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${x.value}px`}:null),k=n(()=>x.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${x.value}px`,width:`calc(100% + ${x.value}px)`}:null);function v(s){if(e.container===!0||document.qScrollPrevented!==!0){const y={position:s.position.top,direction:s.direction,directionChanged:s.directionChanged,inflectionPoint:s.inflectionPoint.top,delta:s.delta.top};C.value=y,e.onScroll!==void 0&&d("scroll",y)}}function Q(s){const{height:y,width:L}=s;let $=!1;u.value!==y&&($=!0,u.value=y,e.onScrollHeight!==void 0&&d("scrollHeight",y),c()),m.value!==L&&($=!0,m.value=L),$===!0&&e.onResize!==void 0&&d("resize",s)}function p({height:s}){g.value!==s&&(g.value=s,c())}function c(){if(e.container===!0){const s=u.value>g.value?re():0;x.value!==s&&(x.value=s)}}let l=null;const q={instances:{},view:n(()=>e.view),isContainer:n(()=>e.container),rootRef:r,height:u,containerHeight:g,scrollbarWidth:x,totalWidth:n(()=>m.value+x.value),rows:n(()=>{const s=e.view.toLowerCase().split(" ");return{top:s[0].split(""),middle:s[1].split(""),bottom:s[2].split("")}}),header:K({size:0,offset:0,space:!1}),right:K({size:300,offset:0,space:!1}),footer:K({size:0,offset:0,space:!1}),left:K({size:300,offset:0,space:!1}),scroll:C,animate(){l!==null?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{l=null,document.body.classList.remove("q-body--layout-animate")},155)},update(s,y,L){q[s][y]=L}};if($e(Z,q),re()>0){let s=function(){$=null,F.classList.remove("hide-scrollbar")},y=function(){if($===null){if(F.scrollHeight>o.screen.height)return;F.classList.add("hide-scrollbar")}else clearTimeout($);$=setTimeout(s,300)},L=function(W){$!==null&&W==="remove"&&(clearTimeout($),s()),window[`${W}EventListener`]("resize",y)},$=null;const F=document.body;h(()=>e.container!==!0?"add":"remove",L),e.container!==!0&&L("add"),it(()=>{L("remove")})}return()=>{const s=rt(f.default,[w(ht,{onScroll:v}),w(de,{onResize:Q})]),y=w("div",{class:a.value,style:V.value,ref:e.container===!0?void 0:r,tabindex:-1},s);return e.container===!0?w("div",{class:"q-layout-container overflow-hidden",ref:r},[w(de,{onResize:p}),w("div",{class:"absolute-full",style:z.value},[w("div",{class:"scroll",style:k.value},[y])])]):y}}}),_e=Be({__name:"EssentialLink",props:{title:{},caption:{default:""},link:{default:"#"},icon:{default:""}},setup(e){return(f,d)=>(N(),ce(gt,{clickable:"",tag:"a",target:!f.link||f.link?.startsWith("#")?"_self":"_blank",href:f.link},{default:S(()=>[f.icon?(N(),ce(qe,{key:0,avatar:""},{default:S(()=>[b(st,{name:f.icon},null,8,["name"])]),_:1})):ut("",!0),b(qe,null,{default:S(()=>[b(G,null,{default:S(()=>[E(we(f.title),1)]),_:1}),b(G,{caption:""},{default:S(()=>[E(we(f.caption),1)]),_:1})]),_:1})]),_:1},8,["target","href"]))}}),Bt=Be({__name:"MainLayout",setup(e){const f=[{title:"Service de l'Information Aéronautique",caption:"Source for SUP-AIP and VAC",icon:"info",link:"https://www.sia.aviation-civile.gouv.fr/"},{title:"Sofia Briefing",caption:"NOTAM and flight plans",icon:"timer",link:"https://sofia-briefing.aviation-civile.gouv.fr/"},{title:"AeroWeb",caption:"Weather from Météo France",icon:"cloud",link:"https://aviation.meteo.fr/"}],d=[{title:"Report issues",caption:"Tell me if something is wrong",icon:"feedback",link:"https://github.com/tcalmant/web-toolbox/issues"},{title:"Source code",caption:"github.com/tcalmant/web-toolbox",icon:"code",link:"https://github.com/tcalmant/web-toolbox"}],o=T(!1);function r(){o.value=!o.value}return(u,m)=>{const C=dt("router-view");return N(),ce(Tt,{view:"hHh Lpr lFf"},{default:S(()=>[b(kt,{elevated:"",class:"print-hide"},{default:S(()=>[b(wt,null,{default:S(()=>[b(ct,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:r}),b(yt,null,{default:S(()=>m[1]||(m[1]=[E(" Tom's toolbox ")])),_:1}),b(bt,null,{default:S(()=>[b(se,{label:"NOTAM mapper",to:"/notam-mapper",exact:""}),b(se,{label:"Fuel computer",to:"/fuel-computer",exact:""}),b(se,{label:"Timestamp",to:"/timestamp",exact:""})]),_:1})]),_:1})]),_:1}),b(pt,{class:"print-hide",modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=g=>o.value=g),bordered:""},{default:S(()=>[b(xe,null,{default:S(()=>[b(G,{header:""},{default:S(()=>m[2]||(m[2]=[E(" Aviation links ")])),_:1}),(N(),ke(Se,null,pe(f,g=>b(_e,Te({key:g.title,ref_for:!0},g),null,16)),64))]),_:1}),b(xe,null,{default:S(()=>[b(G,{header:""},{default:S(()=>m[3]||(m[3]=[E(" Project links ")])),_:1}),(N(),ke(Se,null,pe(d,g=>b(_e,Te({key:g.title,ref_for:!0},g),null,16)),64))]),_:1})]),_:1},8,["modelValue"]),b(St,null,{default:S(()=>[b(C)]),_:1})]),_:1})}}});export{Bt as default};
